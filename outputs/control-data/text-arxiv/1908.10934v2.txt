arXiv:1908.10934v2 [math.CO] 2 May 2020

DIVIDED SYMMETRIZATION AND QUASISYMMETRIC FUNCTIONS
PHILIPPE NADEAU AND VASU TEWARI
Abstract. Motivated by a question in Schubert calculus, we study the interplay of quasisymmetric polynomials with the divided symmetrization operator, which was introduced by Postnikov
in the context of volume polynomials of permutahedra. Divided symmetrization is a linear form
which acts on the space of polynomials in n indeterminates of degree n âˆ’ 1. We first show that
divided symmetrization applied to a quasisymmetric polynomial in m indeterminates can be easily
determined. Several examples with a strong combinatorial flavor are given. Then, we prove that
the divided symmetrization of any polynomial can be naturally computed with respect to a direct
sum decomposition due to Aval-Bergeron-Bergeron, involving the ideal generated by positive degree
quasisymmetric polynomials in n indeterminates.

1. Introduction
In his seminal work [13], Postnikov introduced an operator called divided symmetrization that
plays a key role in computing volume polynomials of permutahedra. This operator takes a polynomial f (x1 , . . . , xn ) as input and outputs a symmetric polynomial f (x1 , . . . , xn ) n defined by
!
X
f (x1 , . . . , xn )
wÂ· Q
f (x1 , . . . , xn ) n :=
,
1â‰¤iâ‰¤nâˆ’1 (xi âˆ’ xi+1 )
wâˆˆSn

where Sn denotes the symmetric group on n letters, naturally acting by permuting variables. When
f has degree n âˆ’ 1, its divided symmetrization f n is a scalar. Given a = (a1 , . . . , an ) âˆˆ Rn , the
permutahedron Pa is the convex hull of all points of the form (aw(1) , . . . , aw(n) ) where w ranges over
all permutations in Sn . Postnikov [13, Section 3] shows that if a1 â‰¥ a2 â‰¥ Â· Â· Â· â‰¥ an , the volume of
1
Pa is given by (nâˆ’1)!
(a1 x1 + Â· Â· Â· + an xn )nâˆ’1 n . It is a polynomial in the ai â€™s, and Postnikov goes
on to give a combinatorial interpretation of its coefficients.
While a great deal of research has been conducted into various aspects of permutahedra, especially
in regard to volumes and lattice point enumeration, divided symmetrization has received limited
attention. Amdeberhan [1] considered numerous curious instances of divided symmetrization for
various polynomials of all degrees. Petrov [12] studied a more general divided symmetrization
indexed by trees, which recovers Postnikovâ€™s divided symmetrization in the case the tree is a path.
Amongst other results, Petrov provided a probabilistic interpretation involving sandpile-type model
for certain remarkable numbers called mixed Eulerian numbers.
Our own motivation for studying divided symmetrization stems from a problem in Schubert
calculus, which we sketch now. The flag variety F l(n) is a complex projective variety structure
on the set of complete flags, which are sequences F0 = {0} âŠ‚ F1 âŠ‚ F2 âŠ‚ Â· Â· Â· âŠ‚ Fnâˆ’1 âŠ‚ Fn = Cn
2010 Mathematics Subject Classification. Primary 05E05; Secondary 05A05, 05A10, 05E15.
Key words and phrases. divided symmetrization, quasisymmetric function, symmetric function.
The second author was supported by an AMS-Simons travel grant.
1

2

PHILIPPE NADEAU AND VASU TEWARI

of subspaces such that dim Fi = i. The Schubert varieties Xw âŠ‚ F l(n), indexed by permutations
in Sn , give rise to the basis of Schubert classes Ïƒw in the integral cohomology H âˆ— (F l(n)). The
Peterson variety P etn is a subvariety of F l(n) of dimension n âˆ’ 1, appearing as a special case of a
regular nilpotent Hessenberg variety. Our problem was to compute the number aw of points in its
intersection with a generic translate of a Schubert variety Xw , for w of length n âˆ’ 1. Equivalently,
aw is the coefficient of the class [P etn ] âˆˆ H âˆ— (F l(n)) on the class Ïƒw .
We show that aw is given by Sw (x1 , . . . , xn ) n where Sw is the celebrated Schubert polynomial attached to w. The results presented here are thus motivated by understanding the divided
symmetrization of Schubert polynomials.
In this article we set out to understand more about the structure of this operator acting on
polynomials of degree n âˆ’ 1, since both Postnikovâ€™s work and our own have this condition. Our
investigations led us to uncover a direct connection between divided symmetrization and quasisymmetric polynomials. We now detail these results.
The ring of quasisymmetric functions in the infinite alphabet x = {x1 , x2 , . . . } was introduced by
Gessel [9] and has since acquired great importance in algebraic combinatorics (all relevant definitions
are recalled in Section 2.2). A distinguished linear basis for this ring is given by the fundamental
quasisymmetric functions FÎ± where Î± is a composition. Given a positive integer n, consider a
quasisymmetric function f (x) of degree n âˆ’ 1. We denote the quasisymmetric polynomial obtained
by setting xi = 0 for all i > m by f (x1 , . . . , xm ) and refer to the evaluation of f (x1 , . . . , xm ) at
x1 = Â· Â· Â· = xm = 1 by f (1m ). Our first main result states the following:
Theorem 1.1. For a quasisymmetric function f of degree n âˆ’ 1, we have
Pn
X
f (x1 , . . . , xm ) n tm
j j
.
f (1 )t = m=1
(1 âˆ’ t)n
jâ‰¥1

Natural candidates for f come from Stanleyâ€™s theory of P -partitions [16, 17]: To any naturally
labeled poset P on n âˆ’ 1 elements, one can associate a quasisymmetric function KP (x) with
degree n âˆ’ 1. Let L(P ) denote the set of linear extensions of P . Note that elements in L(P ) are
permutations in Snâˆ’1 . Under this setup, we obtain the following corollary of Theorem 1.1.
Corollary 1.2. For m â‰¤ n, we have
KP (x1 , . . . , xm )

n

= |{Ï€ âˆˆ L(P ) | Ï€ has m âˆ’ 1 descents}|.

We further establish connections with an ideal of polynomials investigated by [3, 2]. Let Jn
denote the ideal in Q[xn ] := Q[x1 , . . . , xn ] generated by homogeneous quasisymmetric polynomials
in x1 , . . . , xn of positive degree. Let Rn be the degree n âˆ’ 1 homogeneous component of Q[xn ]
, and let Kn := Rn âˆ© Jn . Aval-Bergeron-Bergeron [2] provide a distinguished basis for a certain
complementary space Knâ€  of Kn in Rn , described explicitly in Section 5.2. This leads to our second
main result.
Theorem 1.3. If f âˆˆ Rn is decomposed as f = g + h with g âˆˆ Knâ€  and h âˆˆ Kn , then
f

n

= g(1, . . . , 1).

We conclude our introduction with a brief outline of the article.
Outline of the article: Section 2 sets up the necessary notations and definitions. In Section 3
we gather several useful results concerning divided symmetrization that establish the groundwork

DIVIDED SYMMETRIZATION

3

for what follows. Corollary 3.5 and Lemma 3.7 are the key results of this section. In Section 4 we
focus on quasisymmetric polynomials, and Theorem 1.1 is proved in Section 4.2. In Section 4.3 we
apply our results to various fundamental-positive quasisymmetric functions that are ubiquitous in
algebraic combinatorics. In Section 5 deepens the connection with quasisymmetric polynomials by
way of Theorem 1.3, which gives a nice decomposition of divided symmetrization.
2. Background
We begin by recalling various standard combinatorial notions. Throughout, for a nonnegative
integer n, we set [n] := {i | 1 â‰¤ i â‰¤ n}. In particular, [0] = âˆ…. We refer the reader to [16, 17] for
any undefined terminology.
2.1. Compositions. Given a nonnegative integer k and a positive integer n, a weak composition
of k with n parts is a sequence (c1 , . . . , cn ) of nonnegative integers whose sum is k. We denote
(k)
the set of weak compositions of k with n parts by Wn . For the special case k = n âˆ’ 1 which

â€²
(nâˆ’1)
(k)
will play a special role, we define Wn = Wn
. The size of a weak
. Clearly, |Wn | = n+kâˆ’1
k
composition c = (c1 , . . . , cn ) is the sum of its parts and is denoted by |c|. A strong composition is
a weak composition all of whose parts are positive. Given a weak composition c, we denote the
underlying strong composition obtained by omitting zero parts by c+ . Henceforth, by the term
composition, we always mean strong composition. Furthermore, we use boldface Roman alphabet
for weak compositions and the Greek alphabet for compositions. If the size of a composition Î± is
k, we denote this by Î±  k. We denote the number of parts of Î± by â„“(Î±).
Given Î± = (Î±1 , . . . , Î±â„“(Î±) )  k for k a positive integer, we associate a subset Set(Î±) = {Î±1 , Î±1 +
Î±2 , . . . , Î±1 +Â· Â· Â·+Î±â„“(Î±)âˆ’1 } âŠ† [kâˆ’1]. Clearly, this correspondence is a bijection between compositions
of k and subsets of [k âˆ’ 1]. Given S âŠ† [k âˆ’ 1], we define comp(S) to be the composition of k
associated to S under the preceding correspondence. The inclusion order on subsets allows us to
define the refinement order on compositions. More specifically, given Î± and Î² both compositions
of k, we say that Î² refines Î±, denoted by Î± 4 Î², if Set(Î±) âŠ† Set(Î²). For instance, we have
Î± = (1, 3, 2, 2) 4 (1, 2, 1, 1, 1, 2) = Î² as Set(Î±) = {1, 4, 6} is a subset of Set(Î²) = {1, 3, 4, 5, 6}.
2.2. Polynomials. Given a positive integer n, define two operators Symn and Antin that respectively symmetrize and antisymmetrize functions of the variables x1 , . . . , xn :
X
f (xw(1) , . . . , xw(n) ),
Symn (f (x1 , . . . , xn )) =
wâˆˆSn

Antin (f (x1 , . . . , xn )) =

X

Ç«(w)f (xw(1) , . . . , xw(n) ).

wâˆˆSn

Here Ç«(w) denotes the sign of the permutation w. We denote the set of variables {x1 , . . . , xn } by
xn . Furthermore, set Q[xn ] := Q[x1 , . . . , xn ]. Given a nonnegative integer k, let Q(k) [xn ] denote
the degree k homogeneous component of Q[xn ]. Given a weak composition c = (c1 , . . . , cn ), let
Y c
xc :=
xi i .
1â‰¤iâ‰¤n

4

PHILIPPE NADEAU AND VASU TEWARI
(k)

(k)

Via the correspondence c 7â†’ xc for c = (c1 , . . . , cn ) âˆˆ Wn , we see that Wn naturally indexes a
â€²
basis of the vector space Q(k) [xn ]. In particular Wn indexes the monomial basis of Rn . Recall from
the introduction that we refer toQQ(nâˆ’1) [xn ] as Rn .
Let âˆ†n = âˆ†(x1 , . . . , xn ) = 1â‰¤i<jâ‰¤n (xi âˆ’ xj ) denote the usual Vandermonde determinant.
Given f âˆˆ Q[xn ], we say that f is antisymmetric if w(f ) = Ç«(w)f for all w âˆˆ Sn . Recall that
if f is antisymmetric, then it is divisible by âˆ†n . We say that f is symmetric if w(f ) = f for all
w âˆˆ Sn . The space of symmetric polynomials in Q[xn ] is denoted by Î›n , and we denote its degree
(d)
d homogeneous component by Î›n . For the sake of brevity, we refer the reader to [17, Chapter 7]
and [10] for encyclopaedic exposition on symmetric polynomials, in particular on the relevance of
various bases of Î›n to diverse areas in mathematics. Instead, we proceed to discuss the space of
quasisymmetric polynomials, which includes Î›n and has come to occupy a central role in algebraic
combinatorics since its introduction by Gessel [9].
A polynomial f âˆˆ Q[xn ] is called quasisymmetric if the coefficients of xa and xb in f are
equal whenever a+ = b+ . We denote the space of quasisymmetric polynomials in x1 , . . . , xn by
(d)
(d)
QSymn and its degree d homogeneous component by QSymn . A basis for QSymn is given by
the monomial quasisymmetric polynomials MÎ± (x1 , . . . , xn ) indexed by compositions Î±  d. More
precisely, we set
X
(2.1)
MÎ± (x1 , . . . , xn ) =
xa .
(d)

aâˆˆWn
a+ =Î±

The reader may verify that f = x21 x2 + x21 x3 + x22 x3 + x1 x2 x3 is a quasisymmetric polynomial
in Q[x3 ], and it can be expressed as M(2,1) (x3 ) + M1,1,1 (x3 ). We note here that MÎ± (xn ) = 0 if
â„“(Î±) > n.
Arguably the more important basis for QSymn consists of the fundamental quasisymmetric polynomials FÎ± (x1 , . . . , xn ) indexed by compositions Î±. We set
X
(2.2)
FÎ± (x1 , . . . , xn ) =
MÎ² (x1 , . . . , xn ).
Î±4Î²

For instance F(1,2) (x3 ) = M(1,2) (x3 ) + M(1,1,1) (x3 ).

3. Divided symmetrization
We begin by establishing some basic results on divided symmetrization.
3.1. Basic properties.
Lemma 3.1 ([13]). Let f âˆˆ Q(k) [xn ] be a homogeneous polynomial.
(1) If k < n âˆ’ 1, then f n = 0.
(2) If k â‰¥ n âˆ’ 1, then f n âˆˆ Q(kâˆ’n+1) [xn ] is a symmetric polynomial.
Proof. We will proveQthe following more general result: Let S = {(i, j) | 1 â‰¤ i < j â‰¤ n}, and for
I âŠ† S define âˆ†I = (i,j)âˆˆI (xi âˆ’ xj ). Then we claim that Symn (f /âˆ†I ) is 0 is k < |I| and is in
Q(kâˆ’|I|)[xn ] otherwise (the lemma is the special case I = {(i, i + 1) | i < n}).
First, factor the Vandermonde âˆ†n = âˆ†I âˆ†I c where I c := S \ I. Then
Symn (f /âˆ†I ) = Symn (f âˆ†I c /âˆ†n ) = Antin (f âˆ†I c )/âˆ†n .

DIVIDED SYMMETRIZATION

5

The second identity follows from the fact that a permutation w acts on âˆ†n by the scalar Ç«(w). Now
Antin (f âˆ†I c ) is an antisymmetric polynomial, and is thus divisible by âˆ†n , therefore Symn (f /âˆ†I )
is a symmetric polynomial. Since it has degree k âˆ’ |I| as a rational function, the proof follows.

Since symmetric polynomials in Î›n act as scalars for Symn , we obtain the following corollary.
Corollary 3.2. If f has a homogeneous symmetric factor of degree > deg(f )+1âˆ’n, then f

n

= 0.

Divided symmetrization behaves nicely with respect to reversing or negating the alphabet, as well
as adding a constant to each letter in our alphabet, as the next lemma states. We omit the
straightforward proof.
Lemma 3.3. Let f (x1 , . . . , xn ) âˆˆ Q[xn ] be homogeneous, and let g(x1 , . . . , xn ) := f (x1 , . . . , xn ) n .
Suppose c is an constant. We have the following equalities.
(1) f (xn , . . . , x1 ) n = (âˆ’1)nâˆ’1 g(x1 , . . . , xn ).
(2) f (âˆ’x1 , . . . , âˆ’xn ) n = (âˆ’1)deg(f )âˆ’n+1 g(x1 , . . . , xn ).
(3) f (x1 + c, . . . , xn + c) n = g(x1 + c, . . . , xn + c).
Our next lemma, whilst simple, is another useful computational aid. For a positive integer i
satisfying 1 â‰¤ i â‰¤ n âˆ’ 1, let Cos(i, n âˆ’ i) denote the set of permutations (in one-line notation)
such that Ïƒ1 < . . . < Ïƒi and Ïƒi+1 < . . . < Ïƒn . Equivalently, Ïƒ is either the identity or has a
unique descent in position i. Cos(i, n âˆ’ i) is known to be the set of minimal length representatives
of the set of left cosets Sn /Si Ã— Snâˆ’i . For instance, if n = 4 and i = 2, then Cos(2, 2) equals
{1234, 1324, 1423, 2314, 2413, 3412}.
Lemma 3.4. Let f = (xi âˆ’ xi+1 )g(x1 , . . . , xi )h(xi+1 , . . . , xn ) where g, h are homogeneous. Suppose
that g(x1 , . . . , xi ) i = p(x1 , . . . , xi ) and h(x1 , . . . , xnâˆ’i ) nâˆ’i = q(x1 , . . . , xnâˆ’i ). Then
X
p(xÏƒ(1) , . . . , xÏƒ(i) )q(xÏƒ(i+1) , . . . , xÏƒ(n) ).
f n=
ÏƒâˆˆCos(i,nâˆ’i)

Proof. Under the given hypothesis, we have
Q

f (x1 , . . . , xn )
h(xi+1 , . . . , xn )
g(x1 , . . . , xi )
Q
=Q
1â‰¤jâ‰¤nâˆ’1 (xj âˆ’ xj+1 )
1â‰¤kâ‰¤iâˆ’1 (xk âˆ’ xk+1 )
i+1â‰¤lâ‰¤nâˆ’1 (xl âˆ’ xl+1 )

By considering representatives of left cosets Sn /Si Ã— Snâˆ’i we obtain
ï£«
ï£«
f

n

ï£¶ï£¶

ï£¬
ï£¬
ï£·ï£·
ï£¬ g(x , . . . , x ) h(x , . . . , x ) ï£·ï£·
ï£¬ X
ï£¬
ï£¬
i+1
n ï£·ï£·
1
i
Ï„ ï£¬ iâˆ’1
=
Ïƒï£¬
ï£·ï£·
nâˆ’1
ï£¬Y
ï£¬
ï£·ï£·
Y
Ï„
âˆˆS
Ã—S
ÏƒâˆˆSn /Si Ã—Snâˆ’i ï£­
ï£­
i
nâˆ’i
(xl âˆ’ xl+1 ) ï£¸ï£¸
(xk âˆ’ xk+1 )
X

k=1

=

X

l=i+1

Ïƒ(p(x1 , . . . , xi )q(xi+1 , . . . , xn )).

ÏƒâˆˆSn /Si Ã—Snâˆ’i

The claim now follows.



6

PHILIPPE NADEAU AND VASU TEWARI

Lemma 3.4 simplifies considerably if deg(f ) = n âˆ’ 1, and we employ the resulting statement
repeatedly throughout this article.
Corollary 3.5 ([12]). Let f âˆˆ Rn be such that
f = (xi âˆ’ xi+1 )g(x1 , . . . , xi )h(xi+1 , . . . , xn ).
Then
f
In particular, f

n

n

 
n
g(x1 , . . . , xi )
=
i

i

h(x1 , . . . , xnâˆ’i )

nâˆ’i

.

= 0 if deg(g) 6= i âˆ’ 1 (or equivalently deg(h) 6= n âˆ’ i âˆ’ 1).

Proof. We first deal with the case deg(g) 6= i âˆ’ 1. If deg(g) < i âˆ’ 1, then Lemma 3.1 implies that
g(x1 , . . . , xi ) i = 0. If deg(g) > i âˆ’ 1, then deg(h) < n âˆ’ i âˆ’ 1 and thus h(x1 , . . . , xnâˆ’i ) nâˆ’i =
q(x1 , . . . , xnâˆ’i ) = 0, again by Lemma 3.1. It follows by Lemma 3.4 that f n = 0 if deg(g) 6= i âˆ’ 1.
Now assume that deg(g) = i âˆ’ 1. Then the polynomials p(x1 , . . . , xi ) and q(x1 , . . . , xnâˆ’i ) in the
statement of Lemma 3.4 are both constant polynomials by Lemma 3.1, thereby implying
X
f n=
p(xÏƒ(1) , . . . , xÏƒ(i) )q(xÏƒ(i+1) , . . . , xÏƒ(n) )
ÏƒâˆˆCos(i,nâˆ’i)

(3.1)

 
n
g(x1 , . . . , xi )
=
i

h(x1 , . . . , xnâˆ’i )

i

nâˆ’i

,

where in arriving at the last equality we use the fact that |Cos(i, n âˆ’ i)| =

n
i

Example 3.6. For 1 â‰¤ i â‰¤ n, let us show that
(3.2)

Y

If Xi :=

xj , then Xi

nâˆ’i

n

= (âˆ’1)

1â‰¤jâ‰¤n
j6=i




.




nâˆ’1
.
iâˆ’1

We use induction on n. The claim is clearly true when n = 1, where the empty product is to be
interpreted as 1. Assume n â‰¥ 2 henceforth. By Corollary 3.5, for i = 1, . . . , n âˆ’ 1, we have
Xi+1 âˆ’ Xi

n

= (x1 . . . xiâˆ’1 )(xi âˆ’ xi+1 )(xi+2 Â· Â· Â· xn )
 
n
x1 . . . xiâˆ’1 i x2 . . . xnâˆ’i nâˆ’i .
=
i

By the inductive hypothesis, we have x1 . . . xiâˆ’1
fore
(3.3)

Xi+1

n

âˆ’ Xi

i

= 1 and x2 . . . xnâˆ’i
nâˆ’iâˆ’1

n

= (âˆ’1)

n

nâˆ’i

= (âˆ’1)nâˆ’iâˆ’1 . There-

 
n
.
i

By summation, this gives (3.2) up toP
a common additive
Pn constant.
The proof is then complete using ni=1 Xi n =
i=1 Xi n = 0, which follows from Corollary
P
3.2 because ni=1 Xi is symmetric in x1 , . . . , xn .

DIVIDED SYMMETRIZATION

7

â€²

3.2. Monomials of degree n âˆ’ 1. If f = xc where c âˆˆ Wn , then [13, Proposition 3.5] gives us a
precise combinatorial description for f n . We reformulate this description, following Petrov [12]:
â€²
given c := (c1 , . . . , cn ) âˆˆ Wn , define the subset Sc âŠ† [n âˆ’ 1] by
(3.4)

Sc := {k âˆˆ {1, . . . , n âˆ’ 1} |

k
X

ci < k}.

i=1

P
Let psumk (c) := 1â‰¤iâ‰¤k (ci âˆ’ 1) for i = 0, . . . , n, so that by definition k âˆˆ [n âˆ’ 1] belongs to Sc
if and only if psumk (c) < 0.
A graphical interpretation is helpful here: transform c into a path P (c) from (0, 0) to (n, âˆ’1) by
associating a step (1, ci âˆ’1) to each ci . For instance, Figure 1 depicts P (c) for c = (0, 3, 0, 0, 0, 1, 3, 0, ).
The successive y-coordinates of the integer points of P (c) are the values psumk (c), so that Sc consists of the abscissas of the points with negative y-coordinate. In our example, Sc = {1, 4, 5, 6} âŠ† [7].

Figure 1. P (c) when c = (0, 3, 0, 0, 0, 1, 3, 0) with Sc = {1, 4, 5, 6}.
For a subset S âŠ† [n âˆ’ 1], let
(3.5)

Î²n (S) := |{w âˆˆ Sn | Des(w) = S}|,

where Des(w) := {1 â‰¤ i â‰¤ n âˆ’ 1 | wi > wi+1 } is the set of descents of w. Whenever the n is
understood from context, we simply say Î²(S) instead of Î²n (S). Postnikov [13] shows that xc n for
â€²
c âˆˆ Wn equals Î²(Sc ) up to sign. His proof proceeds by computing constant terms in the Laurent
series expansion of the rational functions occurring in the definition of xc n . Petrov [12] gives a
more pleasing proof in a slightly more general context.
â€²

Lemma 3.7 (Postnikov). If c = (c1 , . . . , cn ) âˆˆ Wn , then
(3.6)

xc

n

= (âˆ’1)|Sc | Î²(Sc ).

We give a proof based on Petrovâ€™s version in the appendix, which serves to illustrate the utility
of Corollary 3.5.
3.3. Catalan compositions and monomials. We now focus on xc
â€²
special subset of Wn . Consider CW n defined as
â€²

n

where c belongs to a

CW n = {c âˆˆ Wn | psumk (c) â‰¥ 0 for 1 â‰¤ k â‰¤ n âˆ’ 1}.
P
P
Equivalently, c = (c1 , . . . , cn ) âˆˆ CW n if ki=1 ci â‰¥ k for all 1 â‰¤ k â‰¤ n âˆ’ 1 and ni=1 ci = n âˆ’ 1. The
paths P (c) for c âˆˆ CW n are those that remain weakly above the x-axis except that the ending point
has height âˆ’1. These are known as the (extended) Lukasiewicz paths. This description immediately
(3.7)

8

PHILIPPE NADEAU AND VASU TEWARI


implies that |CW n | = Catnâˆ’1 , the (n âˆ’ 1)-th Catalan number equal to n1 2nâˆ’2
nâˆ’1 . In view of this, we
refer to elements of CW n as Catalan compositions. Observe that Sc = âˆ… if and only if c âˆˆ CW n .
By Lemma 3.4, we have that xc n = 1 when c âˆˆ CW n , since the only permutation whose descent
set is empty is the identity permutation.
Definition 3.8. The monomials xc where c âˆˆ CW n are called Catalan monomials.
For example, the Catalan monomials of degree 3 obtained from elements of CW 4 are given by
{x31 , x21 x2 , x21 x3 , x1 x22 , x1 x2 x3 }.
Remark 3.9. We refer to the image of a Catalan monomial under the involution xi 7â†’ xn+1âˆ’i for
all 1 â‰¤ i â‰¤ n as an anti-Catalan monomial. These monomials are characterized by Sc = [n âˆ’ 1].
By Lemma 3.4, the divided symmetrization of an anti-Catalan monomial yields (âˆ’1)nâˆ’1 .
The preceding discussion implies the following fact: If f (x1 , . . . , xn ) âˆˆ Rn is such that each
monomial appearing in f is a Catalan monomial, then f n = f (1n ). Here, f (1n ) refers to the
usual evaluation of f (x1 , . . . , xn ) at x1 = Â· Â· Â· = xn = 1. This statement is a very special case of a
more general result that we establish in Section 5.
4. Divided symmetrization of quasisymmetric polynomials
In this section we give a natural interpretation to the divided symmetrization of quasisymmetric
polynomials of degree n âˆ’ 1.
4.1. Quasisymmetric monomials. We focus first on monomial quasisymmetric polynomials. Recall that for any positive integer m, xm refers the alphabet {x1 , . . . , xm }. Our first result shows in
particular that MÎ± (xm ) n depends solely on n, m and â„“(Î±).
Proposition 4.1. Fix a positive integer n, and let Î±  n âˆ’ 1. Then


mâˆ’â„“(Î±) n âˆ’ 1 âˆ’ â„“(Î±)
MÎ± (xm ) n = (âˆ’1)
(4.1)
m âˆ’ â„“(Î±)
for any m âˆˆ {â„“(Î±), . . . , n âˆ’ 1}, and

(4.2)

MÎ± (xn )

n

= 0.


Note that we could have a unified statement by defining ab to be 0 if b > a, as usual. However
it is useful to state the case m = n separately since it plays a special role in the proof, and will be
generalized in Lemma 5.3.
Proof. Our strategy is similar to that adopted in the proof of Lemma 3.7 given in Appendix A.
That is, we perform elementary transformations on the compositions Î± of a given length, so that
the value of MÎ± (xm ) n is preserved. Our transformations allow us to reach a â€˜hook compositionâ€™
for which we can compute the quantity of interest.
We proceed by induction on â„“ := â„“(Î±). If â„“ = 1, then we have to show that


nâˆ’1
nâˆ’1
mâˆ’1 n âˆ’ 2
(4.3)
M(nâˆ’1) (xm ) n = x1 + Â· Â· Â· + xm n = (âˆ’1)
.
mâˆ’1

By Lemma 3.7, we know that xinâˆ’1 n = (âˆ’1)iâˆ’1 Î²([i âˆ’ 1]) for 1 â‰¤ i â‰¤ n. Equation (4.3) now




nâˆ’1
a
= a+1
follows by induction using Pascalâ€™s identity ab + b+1
b+1 and the values Î²([i âˆ’ 1]) = iâˆ’1 .

DIVIDED SYMMETRIZATION

9

Assume â„“ â‰¥ 2 henceforth. Assume further that Î± = (Î±1 , . . . , Î±â„“ ) is such that there exists a
k âˆˆ [â„“ âˆ’ 1] with Î±k â‰¥ 2. Fix such a k. Define another composition Î±â€² of size n âˆ’ 1 and length â„“ by
(4.4)

Î±â€² := (Î±1 , . . . , Î±k âˆ’ 1, Î±k+1 + 1, . . . , Î±â„“ ).

Let Î³ (resp. Î´) be the composition obtained by restricted to the first k parts (resp. last â„“ âˆ’ k parts)
of Î±â€² (resp. Î±). We have
X
Î±k+1
Â· Â· Â· xÎ±iâ„“â„“
xÎ±i11 Â· Â· Â· xiÎ±kk âˆ’1 (xik âˆ’ xik+1 )xik+1
MÎ± (xm ) âˆ’ MÎ±â€² (xm ) =
1â‰¤i1 <Â·Â·Â·<iâ„“ â‰¤m

ï£«

ik+1 âˆ’1

=

X

1â‰¤i1 <Â·Â·Â·<iâ„“ â‰¤m

=

mâˆ’1
X
r=1

(4.5)

=

mâˆ’1
X

xÎ³i11 Â· Â· Â· xÎ³ikk ï£­

X

X

r=ik

ï£¶

Î´
1
Â· Â· Â· xiâ„“â„“âˆ’k
(xr âˆ’ xr+1 )ï£¸ xÎ´ik+1
Î´

1
Â· Â· Â· xiâ„“â„“âˆ’k
xÎ³i11 Â· Â· Â· xÎ³ikk (xr âˆ’ xr+1 )xÎ´ik+1

1â‰¤i1 <Â·Â·Â·<ik â‰¤r
r<ik+1 <Â·Â·Â·<iâ„“ â‰¤m

MÎ³ (x1 , . . . , xr )(xr âˆ’ xr+1 )MÎ´ (xr+1 , . . . , xm ).

r=1

P
P
Set n1 := 1â‰¤iâ‰¤k Î±i = |Î³| + 1 and n2 := k<iâ‰¤â„“ Î±â€²k = |Î´| + 1. Since MÎ³ (x1 , . . . , xr ) has degree
|Î³| = n1 âˆ’ 1, by Corollary 3.5 we obtain
 
n
(4.6)
MÎ³ (x1 , . . . , xn1 ) n1 MÎ´ (x1 , . . . , xmâˆ’n1 ) n2 .
MÎ± (xm ) âˆ’ MÎ±â€² (xm ) n =
n1
Now â„“(Î³) = k < â„“, so by induction MÎ³ (x1 , . . . , xn1 ) n1 = 0 using (4.2). Therefore the expression
in (4.6) vanishes, and we conclude that MÎ± (x1 , . . . , xm ) n = MÎ² (xm ) n , whenever Î± and Î±â€² are
related via the transformation specified in (4.4). By performing a series of such transformations,
one can transform any composition Î± of length â„“ into the hook composition (1â„“âˆ’1 , n âˆ’ â„“).
It follows that MÎ± (xm ) n depends only on â„“, m, and n. To conclude, we distinguish the cases
m = n and m < n.
X
MÎ± (xn ).
Case I: If m = n, then for a fixed â„“ â‰¥ 2 consider Mâ„“ :=
Î±nâˆ’1, â„“(Î±)=â„“

Note that Mâ„“ âˆˆ Î›n since it is the sum of all monomials xc where c is a weak composition of
n âˆ’ 1 with â„“ nonzero integers. Thus Mâ„“ n = 0 by Corollary 3.2. It follows that MÎ± (xn ) n = 0
for any composition Î± with length â„“, as desired.
Case II: If m < n, we compute the common value using the special composition Î± = (n âˆ’ â„“, 1â„“âˆ’1 ).
By its definition, MÎ± (xm ) is the sum of all monomials of the form xinâˆ’â„“ xj1 Â· Â· Â· xjâ„“âˆ’1 where 1 â‰¤ i â‰¤
m âˆ’ â„“ + 1 and i < j1 < Â· Â· Â· < jâ„“âˆ’1 â‰¤ m. We now want to apply Lemma 3.7 to each such monomial
xc , which requires to compute the sets Sc .
Now Î± was picked so that we have the simple equality Sc = [i âˆ’ 1]. Indeed psumj (c) = âˆ’j < 0
for j = 1, . . . , i âˆ’ 1 so that [i âˆ’ 1] âŠ† Sc . For j = i, . . . , n âˆ’ 1, we have psumj (c) â‰¥ 0: this is perhaps
most easily seen on the path P (c), since starting at abscissa i, only level and down steps occur,
with the last step being a down step to the point (n, âˆ’1). This last fact follows from m < n, which
is the reason why we needed to treat the case m = n separately in the proof.

10

PHILIPPE NADEAU AND VASU TEWARI
nâˆ’1
iâˆ’1 ,

We know that Î²n ([i âˆ’ 1]) =
i, we obtain

MÎ± (xm )

and since there are

n

=

mâˆ’â„“+1
X

(âˆ’1)iâˆ’1

i=1



mâˆ’i
â„“âˆ’1

nâˆ’1
iâˆ’1

choices for {j1 , Â· Â· Â· , jâ„“âˆ’1 } for a given




mâˆ’i
.
â„“âˆ’1

To finish the proof, it remains to show the identity





mâˆ’â„“+1
X
nâˆ’1 mâˆ’i
nâˆ’1âˆ’â„“
(âˆ’1)iâˆ’1
= (âˆ’1)mâˆ’â„“
(4.7)
.
iâˆ’1
â„“âˆ’1
mâˆ’â„“
i=1

This is done in Appendix B.



In the next subsection, we will see how Proposition 4.1 implies a pleasant result (Theorem 1.1)
for all quasisymmetric polynomials.
4.2. Divided symmetrization of quasisymmetric polynomials. In this subsection, we give
a natural interpretation of f (x1 , . . . , xm ) n for m â‰¤ n when f is a quasisymmetric polynomial in
x1 , . . . , xm with degree n âˆ’ 1. To this end, we briefly discuss a generalization of Eulerian numbers
that is pertinent for us.
(n)
If Ï†(x) âˆˆ Q[x] satisfies deg(Ï†) < n, then (cf. [16, Chapter 4]) there exist hm (Ï†) âˆˆ Q such that
Pnâˆ’1 (n)
X
hm (Ï†)tm
j
(4.8)
.
Ï†(j)t = m=0
(1 âˆ’ t)n
jâ‰¥1

(n)

By extracting coefficients, the hm (Ï†) are uniquely determined by the following formulas for j =
0, . . . , n âˆ’ 1:

j 
X
n âˆ’ 1 + i (n)
Ï†(j) =
(4.9)
hjâˆ’i (Ï†).
i
i=0

(n)
hi (Ï†)

Stanley calls the
the Ï†-eulerian numbers (cf. [16, Chapter 4.3]), and the numerator the
Ï†-eulerian polynomial. Indeed if Ï†(j) = j nâˆ’1 we get the classical Eulerian numbers An,i counting
permutations with i âˆ’ 1 descents, and the Eulerian polynomial An (t).
Let QSym denote the ring of quasisymmetric functions. Let x denote the infinite set of variables
{x1 , x2 , . . . }. Elements of QSym may be regarded as bounded-degree formal power series f âˆˆ Q[[x]]
such that for any composition (Î±1 , . . . , Î±k ) the coefficient of xÎ±i11 Â· Â· Â· xÎ±ikk equals that of xÎ±1 1 Â· Â· Â· xÎ±k k
whenever i1 < Â· Â· Â· < ik .
Equivalently, QSym is obtained by taking the inverse limit of the rings {QSymm } in finitely
many variables. Given f âˆˆ QSym, we thus have the natural restriction to QSymm :
f (x1 , . . . , xm ) := f (x1 , . . . , xm , 0, 0, . . .).
f (1m )

:= f (1, . . . , 1) by specializing the previous polynomial. The operations
Additionally, set
f 7â†’ f (x1 , . . . , xm ) and f 7â†’ f (1m ) are ring morphisms, which are denoted rm (f ) and ps1m (f )
respectively in [17, Section 7.8] in the context of symmetric functions.
Denote the degree nâˆ’1 homogeneous summand of QSym by QSym(nâˆ’1) , and let f âˆˆ QSym(nâˆ’1) .
Observe that f (1m ) is a polynomial in m of degree at most n âˆ’ 1. By linearity is enough to check

DIVIDED SYMMETRIZATION

11

this on a basis of QSym(nâˆ’1) . We pick the quasisymmetric monomials MÎ± (x) (see (2.1)), so that
MÎ± (1m ) is the number of monomials in MÎ± (xm ), that is


m
m
MÎ± (1 ) =
(4.10)
,
â„“(Î±)
evidently a polynomial in m of degree â„“(Î±) â‰¤ n âˆ’ 1.
Given f âˆˆ QSym(nâˆ’1) , let Ï†f denote the polynomial of degree < n such that Ï†f (m) = f (1m ) for
(n)
m â‰¥ 1. The Ï†f -Eulerian numbers hm (Ï†f ) are thus well defined for 1 â‰¤ m â‰¤ n âˆ’ 1. Our first main
result is that these can be obtained by divided symmetrization:
Theorem 1.1. If f âˆˆ QSym(nâˆ’1) , then we have the identity
Pn
X
f (x1 , . . . , xm )
j j
(4.11)
f (1 )t = m=1
(1 âˆ’ t)n

n

tm

.

jâ‰¥1

Equivalently, we have f (x1 , . . . , xm )

(n)

n

= hm (Ï†f ) for 1 â‰¤ m â‰¤ n âˆ’ 1, and f (x1 , . . . , xn )

n

= 0.

(nâˆ’1)
Proof. By linearity, it suffices
, and we pick the monomial
 toprove this for any basis of QSym
j
basis. We have MÎ± (1j ) =
by (4.10), so by summing we get
â„“(Î±)
X j 
tâ„“(Î±) (1 âˆ’ t)nâˆ’â„“(Î±)âˆ’1
tâ„“(Î±)
=
tj =
(4.12)
â„“(Î±)
(1 âˆ’ t)n
(1 âˆ’ t)â„“(Î±)+1
jâ‰¥1

The coefficient of tm in the numerator is given by (âˆ’1)mâˆ’â„“(Î±)

nâˆ’1âˆ’â„“(Î±)
mâˆ’â„“(Î±)

0 for m = n. These are precisely the values of MÎ± (x1 , . . . , xm )
thereby completing the proof.

n

for 1 â‰¤ m â‰¤ n âˆ’ 1, and

computed in Proposition 4.1,


Remark 4.2. Using the identities (4.9), one obtains for j â‰¥ 1:
(4.13)

j

f (1 ) =


j 
X
nâˆ’1+i
i

i=1

f (x1 , . . . , xi ) n ,

which is easily inverted to give for m â‰¤ n:
(4.14)

f (x1 , . . . , xm )

n

=

mâˆ’1
X
i=0

 
n
(âˆ’1)
f (1mâˆ’i ).
i
i

Note that both sides only depend on the quasisymmetric polynomial f (x1 , . . . , xm ), and not the
whole quasisymmetric function. Since any quasisymmetric polynomial in Q[xm ] can be written
as such a restriction f (x1 , . . . , xm ), it follows that (4.14) gives a way to compute the divided
symmetrization of any quasisymmetric polynomial in Q[xm ].
We can apply Theorem 1.1 to some special families of symmetric and quasisymmetric functions.

12

PHILIPPE NADEAU AND VASU TEWARI

Example 4.3. Fix Î» âŠ¢ n âˆ’ 1 and set â„“ := â„“(Î»). Consider the power sum symmetric function pÎ» .
For j â‰¥ 0, we have that Ï†pÎ» (j) = j â„“ and therefore:
X

Ï†pÎ» (j)tj =

jâ‰¥0

Aâ„“ (t)
Aâ„“ (t)(1 âˆ’ t)nâˆ’â„“âˆ’1
=
(1 âˆ’ t)â„“+1
(1 âˆ’ t)n

Theorem 1.1 implies that
min(â„“(Î»),m)

(4.15)

pÎ» (x1 , . . . , xm )

n

X

=

mâˆ’i

Aâ„“(Î»),i (âˆ’1)

i=1




n âˆ’ 1 âˆ’ â„“(Î»)
.
mâˆ’i

A natural question is to study the action of divided symmetrization on other classical bases of
symmetric functions. For monomial symmetric functions mÎ» , this is obtained immediately from
Proposition 4.1. The case of Schur functions sÎ» is treated in Example 4.6. As for elementary
symmetric functions eÎ» and the homogeneous symmetric functions hÎ» , we omit the computations
given the unwieldy expressions that one obtains. Instead, we discuss the case of the important basis
of QSym given by fundamental quasisymmetric functions FÎ± , in which case divided symmetrization
behaves as well as one could hope.
4.3. Expansions into fundamental quasisymmetric functions. The following pleasant fact
falls out of Theorem 1.1.
Proposition 4.4. For any Î³  n âˆ’ 1, and for m â‰¤ n, we have
(4.16)
Thus if f âˆˆ QSym(nâˆ’1)

FÎ³ (xm ) n = Î´m,â„“(Î³) .
X
expands as f =
cÎ± FÎ± , then for any positive integer m < n
Î±nâˆ’1

f (xm )

(4.17)

n

=

X

cÎ± .

Î±nâˆ’1
â„“(Î±)=m

Proof. By expanding the definition (2.2), we have that FÎ³ (xj ) is the sum of all monomials xi1 . . . xinâˆ’1
with 1 â‰¤ i1 â‰¤ i2 â‰¤ Â· Â· Â· â‰¤ inâˆ’1 â‰¤ j and it < it+1 whenever t âˆˆ {Î³1 , Î³1 + Î³2 , . . . , Î³1 + Â· Â· Â· + Î³â„“(Î±)âˆ’1 }.

By counting these monomials we obtain FÎ³ (1j ) = jâˆ’â„“(Î³)+nâˆ’1
, and therefore
nâˆ’1
X
X j âˆ’ â„“(Î³) + n âˆ’ 1
tâ„“(Î³)
j j
.
FÎ³ (1 )t =
tj =
(1 âˆ’ t)n
nâˆ’1
jâ‰¥0

jâ‰¥0

A comparison of this last expression with (4.11) implies the claim.



If a quasisymmetric function expands nonnegatively in terms of fundamental quasisymmetric
functions, we call it F -positive. To emphasize the significance of Proposition 4.4, we discuss some
examples of F -positive quasisymmetric functions arising naturally in the wild. Our examples fall
into two categories broadly, and we do not aim to be exhaustive.

DIVIDED SYMMETRIZATION

13

4.3.1. (P, Ï‰)-partitions. Arguably the most natural context in which F -positive quasisymmetric
functions arise is that of (P, Ï‰)-partitions. We describe the setup briefly, referring the reader to
[17, Section 7.19] for a more detailed exposition. Let (P, â‰¤P ) be a finite poset on n âˆ’ 1 elements.
A labeling of P is a bijection Ï‰ : P â†’ [n âˆ’ 1]. Given a labeled poset (P, Ï‰), a (P, Ï‰)-partition is a
map Î³ : P â†’ Z>0 with the following properties:
â—¦ If i â‰¤P j and Ï‰(i) < Ï‰(j), then Î³(i) â‰¤ Î³(j).
â—¦ If i â‰¤P j and Ï‰(i) > Ï‰(j), then Î³(i) < Î³(j).
Let A(P, Ï‰) denote the set of all (P, Ï‰)-partitions. Furthermore, define the Jordan-HoÌˆlder set
L(P, Ï‰) to be the set of all permutations Ï€ âˆˆ Snâˆ’1 such that the map w : P â†’ [n âˆ’ 1] defined by
w(Ï‰ âˆ’1 (Ï€j )) = j is a linear extension of P . Consider the formal power series
X Y
(4.18)
KP,Ï‰ =
xÎ³(i) .
Î³âˆˆA(P,Ï‰) iâˆˆP

The central result in Stanleyâ€™s theory of (P, Ï‰)-partitions is that
X
(4.19)
KP,Ï‰ =
Fcomp(Ï€) ,
Ï€âˆˆL(P,Ï‰)

where we abuse notation and denote the composition of n âˆ’ 1 corresponding to the descent set of
Ï€ by comp(Ï€).
Proposition 4.4 specializes to the following result.
Corollary 4.5. Fix a positive integer n. Let (P, Ï‰) be a labeled poset on n âˆ’ 1 elements. The
following equality holds for m â‰¤ n:
KP,Ï‰ (xm )

n

= |{Ï€ âˆˆ L(P, Ï‰) | Ï€ has m âˆ’ 1 descents }|.

Examples of quasisymmetric functions arising from (P, Ï‰)-partitions, either implicitly or explicitly, abound in combinatorics. For instance, skew Schur functions [9], chromatic symmetric
functions [15] and their quasisymmetric refinement [14], the matroid quasisymmetric function of
Billera-Jia-Reiner [7] are all examples of F -positive quasisymmetric functions that can be understood in terms of (P, Ï‰)-partitions.
Example 4.6. The Schur functions sÎ» are of the form KP,Ï‰ where P = PÎ» is the poset given by
the Young diagram of Î», and Ï‰ labels rows of the diagram from bottom to top, and from left to
right in each row. Thus Corollary 4.5 gives us that when Î» âŠ¢ n âˆ’ 1, sÎ» (xm ) n is the number of
standard Young tableaux of shape Î» with m âˆ’ 1 descents.
Remark 4.7. Recall from the introduction that we were initially interested in the values aw given
by the divided symmetrization of Schubert polynomials Sw , where w âˆˆ Sn has length n âˆ’ 1. When
w is a Grassmannian permutation of shape Î» and descent m, one has Sw = sÎ» (xm ). The previous
example then shows that the intersection number aw is the number of standard Young tableaux of
shape Î» with m âˆ’ 1 descents.
4.3.2. Edge-labeled posets. We proceed to discuss another class of quasisymmetric functions arising
from posets, except now the edges in the Hasse diagram have labels rather than the vertices. An
edge-labeled poset P is a finite graded poset with unique maximal element 1Ì‚ and unique minimal
element 0Ì‚ whose cover relations are labeled by integers. Assume that the rank of P is n âˆ’ 1. Let

14

PHILIPPE NADEAU AND VASU TEWARI

C(P ) be the set of maximal chains in P . Given Ï âˆˆ C(P ), the edge labels in Ï read from 0Ì‚ to 1Ì‚ give
the word w(Ï) corresponding to Ï. Define Des(Ï) to be the descent set of w(Ï) and comp(Ï) to be
the composition of n âˆ’ 1 corresponding to Des(Ï).
Bergeron and Sottile [5] define a quasisymmetric function FP (x) by
X
(4.20)
FP =
Fcomp(Ï) .
ÏâˆˆC(P )

The result analogous to Corollary 4.5 in the current context is the following.
Corollary 4.8. Fix a positive integer n. Let P be an edge-labeled poset of rank nâˆ’1. The following
equality holds for m â‰¤ n:
FP (xm )

n

= |{Ï âˆˆ C(P ) | w(Ï) has m âˆ’ 1 descents }|.

The quasisymmetric functions FP can be considered a common generalization of Stanley symmetric functions, skew Schur functions, and skew Schubert functions by making the appropriate
choice of edge-labeled poset P : in this case one picks intervals in the weak Bruhat order, Youngâ€™s
lattice and Grassmannian Bruhat order respectively. Furthermore, in special cases, FP also equals
Ehrenborgâ€™s flag quasisymmetric function [8]. The reader is referred to [6] for further motivation
to study FP .
We conclude this section by describing the case of the Stanley symmetric function. Recall that
a permutation v covers a permutation u in the (right) weak order on Sn if there exists a simple
transposition si such that usi = v and â„“(v) = â„“(u) + 1. Label this cover relation by i, and given
w âˆˆ Sn , consider the interval Pw = [e, w] in the weak order, where e denote the identity permutation
in Sn . The words read from the maximal chains of P are reduced words for w. The corresponding
FPw is the Stanley symmetric function Fw , which has degree â„“(w). We thus get the following result:
Proposition 4.9. If w has length n âˆ’ 1, then Fw (xm )
with m descents.

n

is the number of reduced words for w

5. Decomposition of the divided symmetrization operator.
We proceed to another perspective on divided symmetrization, one which relates it to the study
of super-covariant polynomials initiated by Aval-Bergeron [3] and Aval-Bergeron-Bergeron [2].
5.1. Divided symmetrization and the ideal Jn . Let In be the ideal in Q[xn ] generated by
symmetric polynomials with positive degree. It is an immediate consequence of Corollary 3.2 that
f n = 0 for any f in Rn âˆ© In . It turns out that the result still holds when replacing symmetric
by quasisymmetric, which is the focus of this section.
Definition 5.1. We denote by Jn the ideal of Q[xn ] generated by homogeneous quasisymmetric
polynomials in x1 , . . . , xn with positive degree.
Obviously In âŠ‚ Jn . Let us define Kn := Rn âˆ© Jn . Then we have the following result:
Proposition 5.2. If f âˆˆ Kn , then f
We first prove the following lemma.

n

= 0.

DIVIDED SYMMETRIZATION

15

Lemma 5.3. Fix a positive integer n â‰¥ 2. Let p be a nonnegative integer satisfying 1 â‰¤ p â‰¤ n âˆ’ 1,
(nâˆ’1âˆ’p)
Î±  p and c âˆˆ Wn
. Then we have
MÎ± (xn )xc

n

= 0.

Note that the case p = n âˆ’ 1 is exactly the case m = n of Proposition 4.1.
Proof of Lemma 5.3. Broadly speaking, our strategy is similar to that adopted in the proof of
Proposition 4.1. We proceed by induction on n. In the case n = 2, we have Î± = (1) and c = (0, 0).
Then M(1) (x2 ) 2 = 0 by Corollary 3.2 since M(1) (x2 ) = x1 + x2 is symmetric.
Let n â‰¥ 3 henceforth, and suppose Î± = (Î±1 , . . . , Î±â„“ ). If â„“ = 1, then we have that MÎ± (xn )xc n =
0 by Corollary 3.2 since MÎ± (xn ) is symmetric in this case. So let us assume â„“ > 1. Assume further
that there exists a k âˆˆ [â„“ âˆ’ 1] with Î±k â‰¥ 2. Fix such a k. Define Î²  n âˆ’ 1 and length â„“ by
Î² := (Î±1 , . . . , Î±k âˆ’ 1, Î±k+1 + 1, . . . , Î±â„“ ).

(5.1)

Let Î³ (resp. Î´) be the composition obtained by restricted to the first k parts (resp. last â„“ âˆ’ k parts)
of Î² (resp. Î±), and write d = (c1 , . . . , cn ). By mimicking how we arrived at (4.5), we obtain
(5.2)

(MÎ± (xn ) âˆ’ MÎ² (xn ))xc =

nâˆ’1
X

MÎ³ (xr )

r=1

r
Y

xci i (xr âˆ’ xr+1 )MÎ´ (xr+1 , . . . , xm )

n
Y

xci i .

i=r+1

i=1

This in turn implies
(5.3)

c

(MÎ± (xn ) âˆ’ MÎ² (xn ))x

n

=

nâˆ’1
X
r=1

n
r



MÎ³ (xr )

r
Y
i=1

xci i r

MÎ´ (xnâˆ’r )

nâˆ’r
Y

c

xi r+i

nâˆ’r

.

i=1

We claim that each Q
term on the right hand side of (5.3) vanishes. Fix an r satisfying 1 â‰¤ r â‰¤ nâˆ’1.
If deg(MÎ³ (x1 , . . . , xr ) ri=1 xci i ) 6= râˆ’1, then Corollary 3.5 implies that our claim is true. So suppose
Q
Qnâˆ’r cr+i
that deg(MÎ³ (x1 , . . . , xr ) ri=1 xci i ) = râˆ’1, which is equivalent to deg(MÎ´ (x1 , . . . , xnâˆ’r ) i=1
xi ) =
n âˆ’ r âˆ’ 1. Observe that the minimumQof {r, n âˆ’ r} is at least 2.QBut then our inductive hypothesis
nâˆ’r cr+i
implies that at least one of MÎ³ (xr ) ri=1 xci i r or MÎ´ (xnâˆ’r ) i=1
xi
equals 0. Thus, we
nâˆ’r
have established that (MÎ± (xn ) âˆ’ MÎ² (xn ))xc n = 0 indeed. As in the proof of Proposition 4.1, we
conclude that MÎ± (xn )xc n depends only on n, c, and â„“(Î±).
To conclude, note that the sum over all Î±  p with â„“ parts of MÎ± (xn )xc11 Â· Â· Â· xcnn is a polynomial of
degree n âˆ’ 1 with a symmetric factor, and thus its divided symmetrization yields 0 by Corollary 3.2.
The claim follows.

Proof of Proposition 5.2. Let f âˆˆ Kn . Since the MÎ± (xn ) for |Î±| â‰¥ 1 are a linear basis of the space
of quasisymmetric polynomials in x1 , . . . , xn with no constant term, any element f âˆˆ Kn possesses
a decomposition of the form
X
(5.4)
bÎ±,c xc MÎ± (xn ),
Î±,c
|Î±|+|c|=nâˆ’1

where |Î±| â‰¥ 1 and bÎ±,c âˆˆ Q. By Lemma 5.3, each summand on the right hand side of (5.4) yields
0 upon divided symmetrization, and the claim follows.


16

PHILIPPE NADEAU AND VASU TEWARI

5.2. Divided symmetrization and super-covariant algebra. We want to go further and consider how divided symmetrization acts outside of Kn . It turns out that previous work of AvalBergeron-Bergeron [2, Theorem 4.1] is directly related to this endeavour.
Consider the set of weak compositions defined by
X
Bn = {(c1 , . . . , cn ) |
cj < i for all 1 â‰¤ i â‰¤ n}.
1â‰¤jâ‰¤i

Let Ln = Vect (xc | c âˆˆ Bn ) be the linear span of the corresponding monomials.
Theorem 5.4 ([2]). We have the vector space decomposition Q[xn ] = Ln âŠ• Jn .
Both Jn and Ln are homogeneous, so by restriction to degree nâˆ’1 we have Rn = (Ln âˆ©Rn )âŠ•Kn .
Now we note that Ln âˆ© Rn has a basis formed of all anti-Catalan monomials (see Section 3.3) and
thus has dimension Catnâˆ’1 . For instance if n = 3 it has basis {x(0,1,1) , x(0,0,2) } and dimension
2 = Cat2 .
We prefer working with Catalan monomials since their divided symmetrization is equal to 1.
The involution on Q[xn ] given by xi 7â†’ xn+1âˆ’i for 1 â‰¤ i â‰¤ n preserves the degree, and leaves the
ideal Jn globally invariant. Therefore it sends any homogeneous subspace complementary to Jn
to another such subspace. Let Lâ€²n be the image of Ln , so that Q[xn ] = Lâ€²n âŠ• Jn by Theorem 5.4.
Define Knâ€  := Lâ€²n âˆ© Rn = Vect (xc | c âˆˆ CW n ). We get finally the vector space decomposition
Rn = Knâ€  âŠ• Kn .

(5.5)

We can now state the structural result that characterizes divided symmetrization with respect
to the direct sum (5.5).
Theorem 1.3. If f âˆˆ Rn is written f = g + h with g âˆˆ Knâ€  and h âˆˆ Kn according to (5.5), then
f

n

= g(1, . . . , 1).

In words, divided symmetrization on Rn can be obtained by first projecting to the first factor
in (5.5), and then compute the sum of coefficients of the resulting polynomial.
Proof. If f = g + h then f n = g n + f n = g n by Theorem 1.3 since we have h âˆˆ Kn . Now
by definition of Knâ€  all the monomials xc in g are Catalan, and thus satisfy xc n = 1. This implies
that g n = g(1, . . . , 1) as wanted.

Example 5.5. We know x1 x3

3

= âˆ’2 by Lemma 3.7. Alternatively, note that

x1 x3 = x1 (x1 + x2 + x3 ) âˆ’ (x21 + x1 x2 ),
and that x1 x2 and x21 are both Catalan monomials. Therefore, we can use f = x1 (x1 + x2 + x3 )
and g = âˆ’(x21 + x1 x2 ) in Theorem 1.3 to conclude again that x1 x3 3 = âˆ’2.
As a further demonstration of Theorem 1.3, we revisit the divided symmetrization of fundamental
quasisymmetric polynomials again.

DIVIDED SYMMETRIZATION

17

5.3. Fundamental quasisymmetric polynomials revisited. Before stating the main result in
this subsection, we need two operations for compositions. Given compositions Î³ = (Î³1 , . . . , Î³â„“(Î³) )
and Î´ = (Î´1 , . . . , Î´â„“(Î´) ), we define their concatenation Î³ Â· Î´ and near-concatenation Î³ âŠ™ Î´ to be
(Î³1 , . . . , Î³â„“(Î³) , Î´1 , . . . , Î´â„“(Î´) ) and (Î³1 , . . . , Î³â„“(Î³) + Î´1 , Î´2 , . . . , Î´â„“(Î´) ) respectively. For instance, we have
(3, 2) Â· (1, 2) = (3, 2, 1, 2) and (3, 1) âŠ™ (1, 1, 2) = (3, 2, 1, 2).
Given finite alphabets xn = {x1 , . . . , xn } and ym = {y1 , . . . , ym }, define the formal sum xn + ym
to be the alphabet {x1 , . . . , xn , y1 , . . . , ym } where the total order is given by x1 < Â· Â· Â· < xn < y1 <
Â· Â· Â· < ym . Following Malvenuto-Reutenauer [11], we have
X
FÎ± (xn + ym ) =
(5.6)
FÎ³ (xn )FÎ´ (ym ).
Î³Â·Î´=Î± or Î³âŠ™Î´=Î±

Example 5.6. Interpreting {x1 , x2 , x3 } as the sum of {x1 } and {x2 , x3 } and expanding F(2,3) (x1 , x2 , x3 )
using Equation (5.6) gives
F23 (x3 ) = F2 (x1 )F3 (x2 , x3 ) + F1 (x1 )F13 (x2 , x3 ) + F23 (x2 , x3 ).
In this expansion, we have suppressed commas and parentheses in writing our compositions, and
used the fact that FÎ± (y) = 0 for any alphabet y with cardinality strictly less than â„“(Î±).
As explained in [11, Section 2], the equality in (5.6) relies on the coproduct in the Hopf algebra
of quasisymmetric functions. By utilizing the antipode on this Hopf algebra [11, Corollary 2.3], one
can evaluate quasisymmetric functions at formal differences of alphabets. See [4, Section 2.3] for a
succinct exposition on the same. The analogue of (5.6) is
X
FÎ± (xn âˆ’ ym ) =
(5.7)
(âˆ’1)|Î´| FÎ³ (xn )FÎ´t (ym ),
Î³Â·Î´=Î± or Î³âŠ™Î´=Î±

where Î´t := comp([|Î´| âˆ’ 1] \ Set(Î´)). For instance, if Î´ = (3, 2, 1, 2)  8, then Set(Î´) âŠ† [7] is given
by {3, 5, 6}. Thus we obtain Î´t = comp({1, 2, 4, 7}) = (1, 1, 2, 3, 1).
To end this section, we have the following result which precises Proposition 4.4:

Proposition 5.7. Let Î±  n âˆ’ 1 and let m be a positive integer satisfying â„“(Î±) < m â‰¤ n. Then
FÎ± (x1 , . . . , xm ) âˆˆ Jn .
Proof. From (5.7) it follows that
(5.8)

FÎ± (xm ) =

X

(âˆ’1)|Î´| FÎ³ (xn )FÎ´t (xm+1 , . . . , xn )

Î³Â·Î´=Î± or Î³âŠ™Î´=Î±

Modulo Jn , the only term that survives on the right hand side of (5.8) corresponds to Î² = âˆ…. This
in turn forces Î³ = Î±. Thus we have that FÎ± (xm ) is equal to (âˆ’1)nâˆ’1 FÎ±t (xm+1 , . . . , xn ) modulo Jn .
Now suppose that m > â„“(Î±). As â„“(Î±t ) = nâˆ’â„“(Î±) < nâˆ’m, we conclude that FÎ±t (xm+1 , . . . , xn ) =
0. It follows that FÎ± (xm ) âˆˆ Jn in this case, and Proposition 5.2 implies that FÎ± (xm ) n = 0. 
We get back the result of Proposition 4.4, namely
FÎ± (x1 , . . . , xm )

n

= Î´m,â„“(Î±) .

for m â‰¤ â„“(Î±). Indeed, Proposition 5.7 together with Proposition 5.2 implies that FÎ± (xm ) n = 0
for â„“(Î±) < m. On the other hand, if â„“(Î±) = m, then FÎ± (xm ) = xÎ±1 1 Â· Â· Â· xÎ±mm is a Catalan monomial,
and thus we have FÎ± (xm ) n = 1 in this case.

18

PHILIPPE NADEAU AND VASU TEWARI

Acknowledgements
The authors wish to thank all participants of the seminar on Hessenberg varieties organized by
Sara Billey and Alex Woo at the University of Washington in Winter and Spring 2018, from which
this work grew.
Appendix A. Proof of Lemma 3.7
â€²

We want to prove xc n = (âˆ’1)|Sc | Î²(Sc ) for any c âˆˆ Wn . Our proof proceed in two steps.
â—¦ First, via a sequence of moves, we transform any such cPinto a weak composition câ€² =
â€²
(câ€²1 , . . . , câ€²n ) âˆˆ Wn with the properties that Sc = Scâ€² and 1â‰¤jâ‰¤i (câ€²i âˆ’ 1) âˆˆ {0, âˆ’1} for all
â€²
1 â‰¤ i â‰¤ n. Furthermore, our moves ensure that xc n = xc n .
â€²
â—¦ Second, we compute xc n explicitly by exploiting a relation satisfied by the numbers
(âˆ’1)|S| Î²(S).
â€²
We now furnish details. Let c âˆˆ Wn , and assume that there exists an index i âˆˆ [n] such that
â€²
psumi (c) âˆˆ
/ {0, âˆ’1}. Let k be the largest such index. Note that we must have k â‰¤ n âˆ’ 1 as c âˆˆ Wn .
Consider the move sending c to a sequence d as follows:

(c1 , . . . , ck âˆ’1, ck+1 +1, . . . , cn ) if psumk (c) > 0,
(c1 , . . . , ck , ck+1 , . . . , cn ) 7â†’
(A.1)
(c1 , . . . , ck +1, ck+1 âˆ’1, . . . , cn ) if psumk (c) < âˆ’1.

In the case psumk (c) > 0, the sequence d is clearly a weak composition of size n âˆ’ 1. If psumk (c) <
âˆ’1, then the maximality assumption on k along with the fact that psumn (c) = âˆ’1 implies that
ck+1 â‰¥ 1. Thus, the sequence d is a weak composition of n âˆ’ 1 in this case as well. It is easy
to see that Sc = Sd . We show that xc n = xd n . Assume that psumk (c) > 0 and thus
d = (c1 , . . . , ck âˆ’ 1, ck+1 + 1, . . . , cn ). We have
(A.2)

xc âˆ’ xd

c

n

k+1
Â· Â· Â· xcnn
= xc11 Â· Â· Â· xkck âˆ’1 (xk âˆ’ xk+1 )xk+1

n

.

By our hypothesis that psumk (c) > 0 , we know that deg(xc11 Â· Â· Â· xkck âˆ’1 ) â‰¥ k. Corollary 3.5 implies
that the right hand side of (A.2) equals 0, which in turn implies that xc n = xd n . The case
when psumk (c) < âˆ’1 is handled similarly, and we leave the details to the interested reader.
By applying the aforementioned moves repeatedly, one can transform c into câ€² with the property
that psumi (câ€² ) âˆˆ {0, âˆ’1} for all i âˆˆ [n]. We are additionally guaranteed that Sc = Scâ€² and xc n =
â€²
xc n . Figure 2 shows the path corresponding to câ€² where c = (0, 3, 0, 0, 0, 1, 3, 0) is the weak
composition from Figure 1. Explicitly, the moves in going from c to câ€² are (0, 3, 0, 0, 0, 1, 3, 0) â†’
(0, 3, 0, 0, 0, 2, 2, 0) â†’ (0, 3, 0, 0, 1, 1, 2, 0) â†’ (0, 2, 1, 0, 1, 1, 2, 0).

Figure 2. The path corresponding to c = (0, 2, 1, 0, 1, 1, 2, 0) with Sc = {1, 4, 5, 6}.

DIVIDED SYMMETRIZATION

19
â€²

The upshot of the preceding discussion is that to compute xc n it suffices to consider c âˆˆ Wn
such that psumi (c) âˆˆ {0, âˆ’1} for all i âˆˆ [n]. The map c 7â†’ Sc restricted to these sequences is a
1â€“1 correspondence with subsets S âŠ† [n âˆ’ 1]. We write S 7â†’ c(S) for the inverse map, and set
x(S) := xc(S) .
Our goal now is to prove that
(A.3)

x(S)

n

= (âˆ’1)|S| Î²(S)

To this end, we proceed by induction on n. When n = 1, we have S = âˆ…. In this case, we have
x(S) = 1, and both sides of the equality in (A.3) equal 1. Let n â‰¥ 2 henceforth. Assume further
that S 6= [n âˆ’ 1], and let i âˆˆ
/ S. Define Si = S âˆ© [i] and S i = {j âˆˆ [n âˆ’ i] | j + i âˆˆ S}. Then
Corollary 3.5 gives
(A.4)

x(S)

n

âˆ’ x(S âˆª {i})

n

 
n
x(Si )
=
i

i

x(S i )

nâˆ’i

.

The numbers (âˆ’1)|S| Î²(S) also satisfy this identity, because:
 

n
Î²n (S) + Î²n (S âˆª {i}) =
Î²i (Si )Î²nâˆ’i S i .
i

(A.5)

This has a simple combinatorial proof: given a permutation corresponding to the left hand side, split
its 1-line notation after position i, and standardize both halves so that they become permutations
on [1, i] and [1, n âˆ’ i] respectively.
To conclude, note that (A.4) determines all values x(S) n by induction in terms of the single
value x([n âˆ’ 1]) n . Now x([nâˆ’1]) = x2 Â· Â· Â· xn and we have x2 Â· Â· Â· xn n = (âˆ’1)nâˆ’1 by Example 3.6.
Since Î²([n âˆ’ 1]) = 1, we have x([n âˆ’ 1]) n = (âˆ’1)|[nâˆ’1]| Î²([n âˆ’ 1]), which completes the proof.

Appendix B. Proof of Identity (4.7)
We want to prove that for any positive integers â„“, m, n there holds
mâˆ’â„“+1
X

iâˆ’1

(âˆ’1)

i=1







nâˆ’1 mâˆ’i
mâˆ’â„“ n âˆ’ 1 âˆ’ â„“
= (âˆ’1)
.
iâˆ’1
â„“âˆ’1
mâˆ’â„“

Let Pâ„“,m be the expression on the left hand side. We prove that it equals the right hand side by
induction on â„“ + m. The base case is m = â„“ = 1, and P1,1 = 1 as wanted. Assume by induction
that the property is valid for all â„“, m such that â„“ + m < k for a certain k â‰¥ 1, Let â„“, mâ€² = m + 1 be

20

PHILIPPE NADEAU AND VASU TEWARI

such that â„“ + m + 1 = k. Then we have the following sequence of equalities:



m+1âˆ’â„“
X
nâˆ’1 mâˆ’i
(âˆ’1)i
Pâ„“,m+1 =
i
â„“âˆ’1
i=0

 mâˆ’â„“

 
 
 

X
nâˆ’1
mâˆ’i
mâˆ’iâˆ’1
mâˆ’iâˆ’1
mâˆ’â„“+1
i nâˆ’1
= (âˆ’1)
(âˆ’1)
+
âˆ’
+
m+1âˆ’â„“
i
â„“âˆ’1
â„“âˆ’1
â„“âˆ’1
i=0




nâˆ’1
nâˆ’1
= (âˆ’1)mâˆ’â„“+1
+ Pâ„“,m + Pâ„“âˆ’1,m âˆ’ (âˆ’1)mâˆ’â„“+1
m+1âˆ’â„“
m+1âˆ’â„“

 

nâˆ’1âˆ’â„“
nâˆ’â„“
mâˆ’â„“+1
= (âˆ’1)
âˆ’
,
m+1âˆ’â„“
mâˆ’â„“

where we used the induction hypothesis in the last
equality.
nâˆ’1âˆ’â„“ 
mâˆ’â„“+1
The final expression equals (âˆ’1)
m+1âˆ’â„“ by Pascalâ€™s identity, thereby finishing the proof.
References

[1] Amdeberhan, T. Explicit computations with the divided symmetrization operator. Proc. Amer. Math. Soc.
144, 7 (2016), 2799â€“2810.
[2] Aval, J.-C., Bergeron, F., and Bergeron, N. Ideals of quasi-symmetric functions and super-covariant
polynomials for Sn . Adv. Math. 181, 2 (2004), 353â€“367.
[3] Aval, J.-C., and Bergeron, N. Catalan paths and quasi-symmetric functions. Proc. Amer. Math. Soc. 131, 4
(2003), 1053â€“1062.
[4] Aval, J. C., FeÌray, V., Novelli, J. C., and Thibon, J. Y. Quasi-symmetric functions as polynomial functions
on Young diagrams. J. Algebraic Combin. 41, 3 (2015), 669â€“706.
[5] Bergeron, N., and Sottile, F. Hopf algebras and edge-labeled posets. J. Algebra 216, 2 (1999), 641â€“651.
[6] Bergeron, N., and Sottile, F. Skew Schubert functions and the Pieri formula for flag manifolds. Trans.
Amer. Math. Soc. 354, 2 (2002), 651â€“673.
[7] Billera, L. J., Jia, N., and Reiner, V. A quasisymmetric function for matroids. European J. Combin. 30, 8
(2009), 1727â€“1757.
[8] Ehrenborg, R. On posets and Hopf algebras. Adv. Math. 119, 1 (1996), 1â€“25.
[9] Gessel, I. M. Multipartite P -partitions and inner products of skew Schur functions. In Combinatorics and
algebra (Boulder, Colo., 1983), vol. 34 of Contemp. Math. Amer. Math. Soc., Providence, RI, 1984, pp. 289â€“317.
[10] Macdonald, I. G. Symmetric functions and Hall polynomials, second ed. Oxford Mathematical Monographs.
The Clarendon Press, Oxford University Press, New York, 1995. With contributions by A. Zelevinsky, Oxford
Science Publications.
[11] Malvenuto, C., and Reutenauer, C. Duality between quasi-symmetric functions and the Solomon descent
algebra. J. Algebra 177, 3 (1995), 967â€“982.
[12] Petrov, F. Combinatorial and probabilistic formulae for divided symmetrization. Discrete Math. 341, 2 (2018),
336â€“340.
[13] Postnikov, A. Permutohedra, associahedra, and beyond. Int. Math. Res. Not. IMRN, 6 (2009), 1026â€“1106.
[14] Shareshian, J., and Wachs, M. L. Chromatic quasisymmetric functions. Adv. Math. 295 (2016), 497â€“551.
[15] Stanley, R. P. A symmetric function generalization of the chromatic polynomial of a graph. Adv. Math. 111,
1 (1995), 166â€“194.
[16] Stanley, R. P. Enumerative combinatorics. Vol. 1, vol. 49 of Cambridge Studies in Advanced Mathematics.
Cambridge University Press, Cambridge, 1997. With a foreword by Gian-Carlo Rota, Corrected reprint of the
1986 original.
[17] Stanley, R. P. Enumerative combinatorics. Vol. 2, vol. 62 of Cambridge Studies in Advanced Mathematics.
Cambridge University Press, Cambridge, 1999. With a foreword by Gian-Carlo Rota and appendix 1 by Sergey
Fomin.

DIVIDED SYMMETRIZATION

21

Univ Lyon, UniversiteÌ Claude Bernard Lyon 1, CNRS UMR 5208, Institut Camille Jordan, 43 blvd.
du 11 novembre 1918, F-69622 Villeurbanne cedex, France
E-mail address: nadeau@math.univ-lyon1.fr
Department of Mathematics, University of Pennsylvania, Philadelphia, PA 19104, USA
E-mail address: vvtewari@math.upenn.edu


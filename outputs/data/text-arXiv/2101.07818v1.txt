Modeling simultaneous supply and demand shocks in
input-output networks
Anton Pichler1,2,3 and J. Doyne Farmer1,2,4

arXiv:2101.07818v1 [econ.GN] 19 Jan 2021

1

Institute for New Economic Thinking at the Oxford Martin School, University of Oxford, UK
2
Mathematical Institute, University of Oxford, UK
3
Complexity Science Hub Vienna, Austria
4
Santa Fe Institute, US

January 21, 2021

Abstract
Natural and anthropogenic disasters frequently affect both the supply and demand side
of an economy. A striking recent example is the Covid-19 pandemic which has created
severe industry-specific disruptions to economic output in most countries. Since firms
are embedded in production networks, these direct shocks to supply and demand will
propagate downstream and upstream. We show that existing input-output models which
allow for binding demand and supply constraints yield infeasible solutions when applied
to pandemic shocks of three major European countries (Germany, Italy, Spain). We
then introduce a mathematical optimization procedure which is able to determine bestcase feasible market allocations, giving a lower bound on total shock propagation. We
find that even in this best-case scenario network effects substantially amplify the initial
shocks. To obtain more realistic model predictions, we study the propagation of shocks
bottom-up by imposing different rationing rules on firms if they are not able to satisfy
incoming demand. Our results show that overall economic impacts depend strongly on
the emergence of input bottlenecks, making the rationing assumption a key variable in
predicting adverse economic impacts. We further establish that the magnitude of initial
shocks and network density heavily influence model predictions.
Keywords: Covid-19; production networks; input-output models; rationing; linear programming; economic shocks; shock propagation; economic impact
JEL codes: C61; C67; D57; E23

Acknowledgments: We thank F. Lafond for helpful feedback. This work was supported by Baillie Gifford,
Partners for a New Economy, the UKâ€™s Economic and Social Research Council (ESRC) via the Rebuilding
Macroeconomics Network (Grant Ref: ES/R00787X/1), the Oxford Martin Programme on the Post-Carbon
Transition, and the Institute for New Economic Thinking at the Oxford Martin School. This research is
based upon work supported in part by the Office of the Director of National Intelligence (ODNI), Intelligence
Advanced Research Projects Activity (IARPA), via contract no. 2019-1902010003. The views and conclusions
contained herein are those of the authors and should not be interpreted as necessarily representing the official
policies, either expressed or implied, of ODNI, IARPA, or the U.S. Government. The U.S. Government is
authorized to reproduce and distribute reprints for governmental purposes notwithstanding any copyright
annotation therein.
Corresponding author: Anton Pichler (anton.pichler@maths.ox.ac.uk)

1

1

Introduction

An immanent feature of many natural and anthropogenic disasters is that they affect both the
supply and the demand side of the economy. In this paper we study the Covid-19 pandemic
as exemplary case of simultaneous supply and demand shocks. Supply shocks from the
pandemic arise from different sources. For example, deaths and sickness of employees can
lead to limited productive capacities. Yet these effects are minor compared to nation-wide
lockdown measures imposed by governments to curb the spreading of the virus. During
lockdown workers employed in non-essential industries who cannot work remotely are unable
to perform their jobs (del Rio-Chanona et al. 2020, Dingel & Neiman 2020, Koren & PetoÌ‹
2020).
The pandemic also affects demand in heterogeneous ways (Congressional Budget Office
2006, del Rio-Chanona et al. 2020, Chetty et al. 2020, Carvalho et al. 2020, Chen et al.
2020). While we expect demand shocks to be comparatively small for some industries (e.g.
manufacturing), other industries are strongly affected by demand shocks. An illustrative
example is the transportation industry which is considered as essential in many countries
and thus would not experience adverse supply side effects. But the transportation industry
faces large demand shocks, since consumers reduce demand for air travel and public transport
to avoid infectious exposure.
Since economic agents are embedded in production networks, we expect that the overall economic impact is larger than what the initial shocks to supply and demand suggest.
Demand shocks will reduce the sales of firms and, by backward propagation, also diminish
the sales of their suppliers. Supply shocks, on the other hand, will spread downstream and
upstream. Downstream effects materialize if the limited productive capacity of suppliers
creates input bottlenecks for customers. Due to lower productive capacities, firms will also
require less inputs for production, and thus, adversely affecting upstream suppliers of these
inputs.
Input-output (IO) models are frequently used to model higher-order economic impacts
arising from such exogenous shocks. However, most of these models account for either supply
or demand shocks but do not incorporate them concurrently (Galbusera & Giannopoulos
2018). In this paper we will revisit existing IO modeling techniques and introduce a novel
dynamic approach to account for both types of shocks.
Several macroeconomic models which account for the production network structure have
been suggested to study the economic impacts of the Covid-19 pandemic. Inoue & Todo
(2020) use an agent-based model calibrated to more than a million Japanese firms to model
nation-wide economic effects of a lockdown in Tokyo. Using the World Input-Output Database
(WIOD), Mandel & Veetil (2020) study the effects of national lockdowns on global GDP in
a non-equilibrium framework. Fadinger & Schymik (2020), Baqaee & Farhi (2020), Bonadio
et al. (2020) and Barrot et al. (2020) use general equilibrium models to quantify economic
impacts of social distancing. All these studies focus on the supply side shocks of the pandemic and without further considering changes in final consumption. Exceptions are Pichler
et al. (2020) and Guan et al. (2020) who incorporate both supply and demand shocks in
their production network models.
In contrast to these studies, we consider simpler modeling techniques derived from traditional IO modeling which we extend such that they can account for simultaneous supply
and demand shocks. We follow this approach to better isolate underlying mechanisms of
shock propagation in production networks that can be hard to disentangle in more sophisticated macroeconomic models. When applying pandemic shocks to data from Germany,
Italy and Spain, we find that existing IO modeling techniques yield infeasible solutions of
economic impacts. We therefore suggest a simple linear programming approach which allows

2

us the determine feasible market allocations, representing a lower bound of minimal shock
propagation. To find more realistic impact estimates, we follow a bottom-up approach by
equipping firms with alternative rationing behaviors in case they face output constraints.
This setup allows us to dynamically model the propagation of shocks in production networks
and uncover several theoretical implications.
Our paper contributes to the field of IO models in disaster impact assessment, for which
a recent review can be found in Galbusera & Giannopoulos (2018). Another recent study
compares predictions of alternative IO models for supply side natural disasters (Avelino &
Dallâ€™erba 2019). Similar to our derivation of a lower bound of shock propagation, Koks
& Thissen (2016) and Oosterhaven & Bouwmeester (2016) rely on optimization techniques
to account for supply constraints in demand-driven models. The modeling of alternative
rationing algorithms is related to the studies of Steenge & BocÌŒkarjova (2007), Li et al. (2013)
and Koks et al. (2015) which allow for imbalanced IO tables immediately after the disaster
strikes and evaluate different recovery paths.
Our findings show that shock amplification is much larger in the bottom-up approaches
than what best-case scenarios would suggest. Micro-level coordination failures can severely
exacerbate adverse economic shocks. Rationing assumptions play a key role in impact estimates and alternative behavioral rules can lead to vastly different aggregate outcomes. These
effects strongly interact with the overall shock magnitude as well as the level of connectedness in the production network. While we find that economic impacts increase with higher
levels of network density in general, the extent to which this is true strongly depends on the
underlying rationing mechanisms. Our results also imply that estimates of economic impact
can be highly sensitive with respect to data quality and aggregation.
This paper is organized as follows. We first discuss first-order pandemic shocks to supply
and demand, as well as the datasets used (Section 2). In Section 3 we introduce the basic
IO framework and show that the mixed endogenous/exogenous modeling framework results
in infeasible economic allocations. Section 4 discusses the main results of this paper. We
propose an optimization method in Section 4.1 and introduce alternative rationing algorithms
in Section 4.2 to model shock propagation in supply and demand constrained production
networks. We show empirical results and discuss further theoretical implications in Section
4.3 before concluding in Section 5.

2

Pandemic shocks to supply and demand

Our analysis is based on the most recent year (2014) of the World-Input-Output-Database
(WIOD) (Timmer et al. 2015)1 . We use estimates of supply and demand shocks from the
literature to determine maximum final consumption and production values for 54 industries
in three major European economies, i.e. Germany, Italy and Spain2 . We focus on these
economies because existing research provides us with lists of essential industries and thus
allows us to make reasonable estimates of supply shocks.
We follow the approach of del Rio-Chanona et al. (2020) to compute supply shocks for
every industry during a lockdown. A supply shock is caused by the removal of labor in
non-essential industries due to social distancing measures. In contrast, an industry which is
defined as essential will not be affected. Even if employed in non-essential industries, workers
who can accomplish their work from home will do so and are assumed to keep pre-lockdown
1

All code and data to reproduce this paper is made accessible online: https://www.doi.org/10.5281/
zenodo.4326815.
2
We removed industries T (Household activities) and U (Extraterritorial activities) from our analysis
since they are not connected to other industries in the data and thus donâ€™t play any role in the propagation
of shocks in the production network.

3

productivity levels. The Remote Labor Index RLIi indicates the share of an industryâ€™s
labor force that can work from home. The supply shock to industry i is then computed as
Si = (1 âˆ’ RLIi )(1 âˆ’ ei ), where ei is the share of an industry defined as essential. Thus, the
supply shock of an industry during lockdown is the share of labor in non-essential industries
that cannot work from home. We assume that the supply shock to an industry determines
the maximum production of an industry, i.e.
xmax
= (1 âˆ’ Si )xi,0 ,
i

(1)

where xi,0 denotes the production in industry i before lockdown. Following this approach,
every industry faces binding supply side constraints, limiting its production to xi âˆˆ [0, xmax
].
i
The Remote Labor Index is taken from del Rio-Chanona et al. (2020) and industry-specific
essential ratings for Germany, Italy and Spain are obtained from Fana et al. (2020).
To determine first-order demand shocks to every industry, D
i , we use estimates of a
prospective Congressional Budget Office (CBO) study aiming at quantifying the demandside impact of a pandemic (Congressional Budget Office 2006). Demand and supply shock
data has been mapped to WIOD industry categories by Pichler et al. (2021) and are presented
in detail in Appendix A. As for supply shocks, we assume that demand shocks determine
maximum final consumption values according to
fimax = (1 âˆ’ D
i )fi,0 ,

(2)

where fi,0 represents pre-lockdown final consumption. Since consumption cannot be negative, we have fi âˆˆ [0, fimax ]3 . Note that WIOD distinguishes different final consumption
categories. We apply the CBO estimates to final consumption of households and non-profit
organizations and assume a 10% shock to investments and exports as in Pichler et al. (2021).
In this paper we do not further distinguish between different final consumption categories
but for simplicity only consider total final consumption values for every industry. Table 1
shows country aggregates of essentialness scores, Remote Labor Index, supply and demand
shocks.
Germany
Italy
Spain

x
7,066.74
4,075.40
2,567.91

f
4,447.11
2,343.12
1,552.88

S
0.31
0.27
0.33

D
0.09
0.11
0.13

RLI
0.42
0.41
0.40

e
0.49
0.55
0.44

P
P
Table 1: Country aggregates. Columns x = i xi,0 and fP= i fi,0 are country gross
and final
P output
max
max
D
S
f
/f
are total
consumption in billion USD based on 2014 values.

=
1
âˆ’
x
/x
and

=
1
âˆ’
i
i
i
i
P
P
supply and demand shocks, respectively. RLI = i RLIi xi,0 /x and e = i ei xi,0 /x denote the country-wide
Remote Labor Index and essentialness score on which supply shocks are based.

3

IO framework and mixed endogenous/exogenous modeling

We first introduce basic national accounting identities which build the basis for most IO
models. Let us consider an economy consisting of N industries. Inter-industry purchases
and sales are encoded in the intermediate consumption matrix Z where an element Zij
denotes the total monetary value of goods produced by industry i that are consumed by
3
In principle, fi could be negative if there is extremely large inventory depletion. This is not the case
in our data. In national accounts inventory adjustment merely represents a variable to rebalance row and
column sums of IO tables. We therefore do not consider the possibility of negative final demand.

4

industry j. For the N -dimensional vectors of gross output, total final consumption and
value added, we write x, f and v, respectively. In this economy the following identities hold
x = Z1 + f = Z > 1 + v,

(3)

where 1 is a vector of ones.
A core assumption in a Leontief-inspired modeling framework is that industries produce
based on fixed production recipes, allowing us to rewrite the first identity of Eq. (3) as
x = Ax + f = Lf ,

(4)

where A is the technical coefficient matrix with elements Aij â‰¡ Zij /xj (the production
recipe) and L the Leontief inverse L â‰¡ (I âˆ’ A)âˆ’1 . A conventional assumption is that gross
output is determined endogenously, whereas final consumption is taken to be as exogenous.
It then follows that value added is obtained as a residual variable.
Eq. (4) is at the core of many IO models which are frequently used for disaster impact
analysis. This specification defines a demand-driven model. However, as we have already
stressed, many economic shocks actually act on the supply side of the economy. For example,
natural catastrophes such as earthquakes or floods destroy physical capital, putting upper
limits on an industryâ€™s production in the disaster aftermath. Eq. (4), however, neglects supply
capacity constraints and implies an infinite elasticity of supply with respect to demand. This
is particularly problematic given the frequent short-term focus of IO studies.
It should be pointed out that there are also supply-driven IO models building upon
the Ghosh model (Ghosh 1958) which assumes exogenous primary factors and derives final
consumption values endogenously. The Ghosh model does not comply with a Leontief production function and has been heavily criticized amongst other aspects for the assumption
of perfect demand elasticities and perfect substitution of inputs (Oosterhaven 1988, Gruver 1989, De Mesnard 2009). The IO inoperability model (Haimes & Jiang 2001, Santos &
Haimes 2004) is another notable supply-side focused model. It has been shown, however,
that it closely corresponds to conventional IO modeling approaches (Dietzenbacher & Miller
2015) which we discuss in detail below.
Neither the demand- nor the supply-driven specification of IO models are able to incorporate supply and demand shocks simultaneously. A potential remedy is the mixed endogenous/exogenous model (MEEM) which has been applied in several studies including Steinback (2004), Kerschner & Hubacek (2009) and Arto et al. (2015) The MEEM acknowledges
that not only final demand is constrained but that for some industries supply constraints
are more severe and therefore binding. In the MEEM the N industries are divided into two
groups. The first group is the set of N s supply constrained industries and the second group
the N d demand-constrained industries (we have N s + N d = N ). We can use this setup to
partition Eq. (4) into
 s   ss
  s  s
x
f
x
A
Asd
=
+
,
(5)
xd
xd
fd
Ads Add
where superscripts s and d denote supply and demand constrained industries, respectively.
The matrix block Asd indicates the input recipes of demand constrained customers with
respect to output constrained suppliers and analogously for the other blocks. In this framework vectors f s and xd are endogenous and f d and xs exogenous. Rearranging Eq. (5) such
that all endogenous variables appear on the left-hand side and all exogenous variables on the
right-hand side, yields
fs
xd





I
Asd
0 I âˆ’ Add


=

âˆ’1 

5

  s
I âˆ’ Ass 0
x
ds
A
I
fd

(6)

(for details see Miller & Blair (2009), 621-633).
Note that the MEEM incorporates both supply and demand shocks, but not simultaneously for a single industry. Instead, an industry is either supply or demand constrained. A
difficulty in empirical analysis is to define which industries are supply and which are demand
constrained. In some cases there might be â€œnaturalâ€ distinctions. For example, Arto et al.
(2015) study global supply chain disruption effects of the 2011 ToÌ„hoku earthquake by solving the MEEM where only the Japanese transport equipment industry is supply constrained,
whereas for all other industries gross output is endogenous. In case of simultaneous (severe)
supply and demand shocks the line of distinction will be more blurred.
To apply the MEEM in the pandemic context, we categorize industries into a demand and
a supply constrained group based on which shock is larger. If the supply shock of an industry
exceeds its demand shock in absolute terms, we treat this industry as supply constrained
and vice versa. The shock magnitudes for supply and demand for each industry are given as
max
xSS
= âˆ’Si xi,0 ,
i = xi,0 âˆ’ xi

(7)

fiDS

(8)

= ci,0 âˆ’

fimax

=

âˆ’D
i fi,0 ,

DS the demand shock. If xSS > f DS , we
where dSS
i denotes the total supply shock and fi
i
i
consider this industry as supply constrained and we will use its gross output values on the
right hand side of Eq. (6). Otherwise we treat it as demand constrained.
Following this approach, we apply the MEEM to the IO data of Germany, Italy and Spain
by calibrating it to the estimated pandemic supply and demand shocks. As shown in Fig.
1, the MEEM does not yield a feasible solution for any of the three countries. Violations of
feasibility conditions are most frequent for Spain, which faces the largest shocks to supply and
demand. The model does not compute any negative final consumption values for Germany,
but still allocates final consumption values to industries which are larger than fimax .
In Appendix B we further investigate the modeling results of the MEEM and show that
infeasible solutions are not limited to cases of large supply and demand shocks but can also
arise for very small first-order shocks. These findings indicate that the MEEM is prone to
yield impossible market outcomes in presence of simultaneous supply and demand shocks.
Thus, the MEEM does not seem to be a good candidate for impact assessment of the current
pandemic.

6

Germany
C29
L68
C28
F
C20
G47
R_S
C27
C26
C25
C24
J62âˆ’63
C31âˆ’32
C22
N
C30
M71
G45
M72
M69âˆ’70
C13âˆ’15
C17
C23
C33
C16
M74âˆ’75
B
M73
A02
Q
O84
P85
C10âˆ’12
G46
I
K64
C19
D35
K65
C21
J61
H49
E37âˆ’39
H50
J59âˆ’60
H51
A01
J58
H52
T
E36
C18
H53
K66
A03

â—
â—

â—
â—
â—
â— â—
â—
â—
â—
â—
â—â—
â— â—
â—â—
â— â—
â— â—
â—â—
â—
â—
â—â—
â—â—
â—â—
â—â—
â—â—
â—â—
â—â—
â—
â—â—
â—
â—
â—
â—

â—

â—
â—
â—â—
â—
â—
â—
â—
â—
â—â—
â—
â—
â—
â—
â—â—
â—
â—
â—
â—
â—
â—
â—
â—
â—
â—
â—

0

â—

â—

â—
â—

â—â—
â— â—
â—

â—

100

â—
â—â—
â—â—

200

Italy
â—

â—

â—

â—

300

L68
â—
âˆ’71
F
â—
âˆ’59
G47
â—
âˆ’63
C28
â—
â—
âˆ’85
G46
â—
â—
âˆ’16
â— â—
âˆ’19 C10âˆ’12
R_S
â—
â—
âˆ’70
â—
â—
âˆ’65 C13âˆ’15
C29
â—
â—
âˆ’43
C25 â—
â—
âˆ’73
C20
â—
â—
âˆ’80
G45
â—
13
â— â—
âˆ’67 C31âˆ’32
C24 â—
â—
âˆ’25
C27
â— â—
âˆ’65
N
â— â—
âˆ’61
T
â—
âˆ’51
C30
â—â—
11
C22
â—â—
âˆ’42
C26
â—â—
âˆ’34
C23 â— â—
âˆ’69
C33
â—â—
âˆ’36
C17 â—â—
âˆ’67
B
â—
â—
âˆ’81
C16 â—â—
âˆ’83
A02 â—
â—
âˆ’2
M73 â—
â—
âˆ’53
Q
âˆ’83
O84
âˆ’100
I
â—
â—
âˆ’0.12
P85
â—
âˆ’0.2
H49
â— â—
âˆ’1
C19
â—
â—
âˆ’10
C21
â—
â—
âˆ’10
J61
â—
âˆ’73
â—
â—
âˆ’3 J62âˆ’63
D35
â—
âˆ’10
H52
â—â—
âˆ’2
A01
â—
â—
âˆ’1
K65
â—
âˆ’8
K64
â—
âˆ’1
â—
âˆ’57 E37âˆ’39
M72
â—
â—
âˆ’4
H50
â—â—
âˆ’11
â—
âˆ’4 M69âˆ’70
H51 â—
â—
âˆ’50
â—
âˆ’10 J59âˆ’60
J58
â—
âˆ’4
âˆ’22 M74âˆ’75 â—
E36
â—
0
M71 â—
âˆ’2
K66 â—
âˆ’10
C18 â—
âˆ’3
H53 â—
âˆ’2
A03 â—
âˆ’10

400

0

â—

Spain
â—

â—

â—
â—

100
200
Final consumption (bn USD)

L68
â—
âˆ’56
F
â—
âˆ’53
G47
â—
â—
âˆ’23
P85
â—
â—
âˆ’47
â— â—
âˆ’28 C10âˆ’12
G46
â— â—
âˆ’16
C29
â—
â—
âˆ’54
R_S
â—
â—
âˆ’62
C20
â—
â—
âˆ’76
G45
â—â—
âˆ’89
â—â—
10 J62âˆ’63
D35
â—
â—
âˆ’3
â— â—
âˆ’66 C13âˆ’15
C28
â— â—
âˆ’90
C24
â—
â—
âˆ’52
N â—
â—
âˆ’58
C30
â— â—
0
C25
â— â—
âˆ’63
M71
â—â—
âˆ’48
C27
â—â—
âˆ’39
T
â—
âˆ’82
C22 â— â—
âˆ’30
H51
â—
â—
âˆ’61
âˆ’35 C31âˆ’32 â— â—
â—â—
âˆ’77 M69âˆ’70
â—
âˆ’108 J59âˆ’60
M72
â—â—
âˆ’126
C23
â—â—
âˆ’0.15
B
â—â—
âˆ’0.03
C26
â—â—
âˆ’79
C33 â—â—
âˆ’0.02
J58
â—
â—
âˆ’55
C16 â—â—
âˆ’10
M73 â—
â—
âˆ’10
â—
âˆ’3 M74âˆ’75 â—
A02 â—
â—
âˆ’8
I
â—
âˆ’1
Q
âˆ’33
O84
â—
âˆ’10
C19
â—â—
âˆ’1
H49
â— â—
âˆ’2
A01
â—â—
âˆ’2
J61
â—
âˆ’10
K65
â—
âˆ’47
C21
â—
â—
âˆ’5
H52
â—â—
âˆ’47
K64
â—
âˆ’3
â—
âˆ’4 E37âˆ’39
C17
â—
âˆ’5
E36
â—
âˆ’1
K66
â—
âˆ’8
H50
â—
â—
âˆ’5
A03
â—
âˆ’10
C18 â—
âˆ’3
H53 â—
âˆ’10

0

50

100

â—
â—

â—

â—

âˆ’57
âˆ’77
âˆ’22
âˆ’47
âˆ’12
âˆ’17
âˆ’71
âˆ’61
âˆ’60
âˆ’21
âˆ’11
71
âˆ’72
âˆ’69
âˆ’86
âˆ’105
âˆ’63
âˆ’82
âˆ’47
âˆ’70
0
âˆ’90
âˆ’19
âˆ’75
37
0.35
âˆ’41
âˆ’70
âˆ’50
âˆ’43
âˆ’89
27
âˆ’118
âˆ’86
95
âˆ’158
âˆ’76
âˆ’0.12
âˆ’1
âˆ’10
âˆ’39
âˆ’10
âˆ’2
âˆ’1
âˆ’9
âˆ’20
âˆ’4
âˆ’2
âˆ’10
âˆ’1
âˆ’2
âˆ’28
âˆ’10
âˆ’10
âˆ’2

150

Constrained: â— Demand â— Supply

Figure 1: Final consumption values from mixed exogenous/endogenous IO modeling with simultaneous supply and demand shocks. Black circles indicate initial pre-shock values, red circles
demand-constrained industries and blue circles supply-constrained industries. Note that demand-constrained
consumption values are exogenously determined by the first-order shocks, while in other cases the change in
output depends on the higher order effects on the whole economy. Red lines indicate the overall change in
production for each sector. Numbers to the right of both panels indicate the value change in percentages and
are colored red if the result is infeasible.

4

Shock propagation in production networks

The results of the previous section make it clear that we need alternative methods to deal
with simultaneous supply and demand shocks. We propose two new methods to model
the propagation of supply and demand shocks through the production network. First, we
approach the problem from the perspective of a policymaker who allocates goods purposefully
to maximize either total gross output or total final consumption within the given economic
constraints. This will give us a best-case scenario of negative economic impacts, i.e. the
minimal decrease in total output and final consumption necessary to arrive within the set of
feasible solutions given the exogenous constraints to supply and demand.
While deriving a lower bound is valuable, it is unlikely to be realistic. We therefore
consider a second approach by comparing alternative rationing algorithms. If a firm is
supply constrained, it will not be able to satisfy all of its demand and thus needs to make a
decision which customer to serve to what extent. We implement several decision rules and
investigate how this choice influences the estimated economic impact. In contrast to the
optimization method or the MEEM, which simply compute an equilibrium, this approach
explicitly computes the transient dynamics that lead to a new equilibrium.

4.1

Optimal market allocations

Given exogenous constraints to supply and demand, what is the feasible market allocation
that maximizes final consumption and/or total output? The solution needs to lie within
exogenous bounds on supply and demand and also needs to satisfy the assumption of Leontief
7

production, Eq. (4). We seek market allocations {xâˆ— , f âˆ— } that (a) respect given production
recipes xâˆ— = Lf âˆ— and (b) satisfy basic output and demand constraints xâˆ— âˆˆ [0, xmax ] and
f âˆ— âˆˆ [0, f max ].
We consider two cases of â€œoptimalâ€ market allocations. Following the focus on gross
output of most IO studies, as a first case we consider a market allocation to be optimal
if it maximizes gross output. Large levels of gross output indicate high economic activity,
which in turn entail high levels of primary factors such as labor compensation. Alternatively,
a policymaker could be interested in keeping consumption levels high. Thus, as a second
case we look at optimal market allocations that maximize final consumption given current
production capacities. We can reformulate these approaches as mathematical optimization
problems. Due to the linearity of the Leontief framework, the problems boil down to linear
programming exercises.
Maximizing gross output:
max

f âˆˆ[0,f max ]

subject to

1> (I âˆ’ A)âˆ’1 f ,

(9)

(I âˆ’ A)âˆ’1 f âˆˆ [0, xmax ].

Maximizing final consumption:
max

xâˆˆ[0,xmax ]

1> (I âˆ’ A)x,

(10)

(I âˆ’ A)x âˆˆ [0, f max ].
P
To maximize gross output of the economy, i xâˆ—i , the policymaker determines a vector of
final consumption f âˆ— . The constraint Lf âˆˆ [0, xmax ] ensures that industry output levels lie
within the respective production capacities. The problem is similar when maximizing final
consumption
where a vector of output levels xâˆ— is chosen to maximize final consumption,
P âˆ—
i fi . The auxiliary constraint enforces that final consumption levels do not exceed given
demand. The optimization problem always admits a solution since the trivial allocation of a
full collapse {xâˆ— , f âˆ— } = {0, 0} always exists, although we expect positive values for realistic
input data.
subject to

4.2

Input bottlenecks and rationing variations

As our second method we implement different rationing schemes for output constrained
industries. In contrast to the optimization methods, this represents a bottom-up approach
for finding feasible market allocations. Industries place orders to their suppliers based on
incoming demand. Since suppliers can be output constrained, they might not be able to
satisfy demand fully. A supplier therefore needs to make a decision about how much of each
customerâ€™s demand it serves. Intermediate consumers transform inputs to outputs based on
fixed production recipes. Thus, if a customer receives less inputs than she asked for, she faces
an input bottleneck further constraining her production. As a consequence, the customer
reduces her demand for other inputs as they are not further needed under limited productive
capacities. We iterate this procedure forward until the algorithm converges.
We run this algorithm with four alternative rationing rules: (a) strict proportional rationing, (b) proportional rationing to intermediate demand but priority of intermediate over
final demand, (c) priority rationing serving largest customers first and (d) random rationing,
where customers are served based on a random order. We then compare the results obtained
from the four competing behavioral rules.

8

These rationing approaches are frequently applied in the literature, although there is
differences in the exact specifications. In general it is hard to calibrate to empirical data
how firms distribute output in case of supply constraints and so the rationing choice is often
ad-hoc. Here, we apply all four rules within a consistent dynamic framework to better understand how alternative behavioral assumptions affect impact estimates. Strict proportional
rationing is frequently assumed in the literature (Henriet et al. 2012, Hallegatte 2014, Guan
et al. 2020, Mandel & Veetil 2020, Pichler et al. 2020) and also mixed proportional/priority
rationing has been considered (Battiston et al. 2007, Hallegatte 2008, Li et al. 2013). The
agent-based framework of Inoue & Todo (2019) and Inoue & Todo (2020) assumes a variation of priority rationing while the random matching of suppliers and customers in the
agent-based model proposed by Poledna et al. (2018) and Poledna et al. (2019) most closely
resembles a random rationing approach.
(a) Strict proportional rationing. If firms are unable to satisfy total incoming demand completely they distribute output proportional to their customersâ€™ demand, where
no distinction is made between intermediate and final customers. More specifically, if a
firmâ€™s output, xi , is smaller than incoming demand, di , it will supply Zij = Oij xdii to customer j, where Oij denotes the demand from customer j to firm i. We implement the
rationing algorithm in the following way: First, firms determine their total demand as if
there was no supply-side constraints, i.e. d = Lf max . Firms then evaluate if they are
able to satisfy demand given their constrained production capacities. max
If a firm i can satxi
isfy demand only partially, it will create a bottleneck of size ri = di to other industries due to proportional rationing. Since firms produce according to fixed Leontief input
recipes, their largest input bottleneck, si = min {rj , 1} will be the binding constraint in
j:Aji >0

production. nThus, in caseo of input bottlenecks where si < 1, production of i reduces to
s A di
= min{xmax
, si di } < di . This in turn reduces the amount of
xi = min xmax
, i Aji
i
i
ji
j:Aji >0
P
goods delivered to the final consumer fi = min{xi âˆ’ j Aij xj , 0}. The new final demand
vector f now implies a new, lower level of aggregate demand, d = Lf , and we again let
firms evaluate whether they can satisfy total demand within given production constraints.
We iterate this procedure forward until all demand is met and no input bottleneck further
constrains production. We can write the proportional rationing algorithm more compactly
as follows:
Algorithm 1 Proportional rationing; firms are not prioritized over the final consumer. Take
an initial demand vector f [0] = f max as given, implying an initial aggregated demand vector
d[1] = Lf [0]. By looping over the index t = {1, 2, ...}, the following system is iterated
forward:
xmax
i
,
di [t]
si [t] = min {rj [t], 1},
ri [t] =

j:Aji >0

xi [t] = min{xmax
, si [t]di [t]},
ï£±i
ï£¼
ï£²
ï£½
X
fi [t] = max xi [t] âˆ’
Aij xj [t], 0 ,
ï£³
ï£¾
j
X
Lij fj [t].
di [t + 1] =
j

9

(11)
(12)
(13)
(14)
(15)

The algorithm converges to a new feasible economic allocation if di [t + 1] = di [t] for all i.
In this case output and final consumption levels are given as xi = di [t + 1] = xi [t + 1] and
fi = fi [t + 1], respectively.
Eq. (11) indicates whether a firm is output constrained where ri is the share of demand
that can be met given existing productive capacities. If ri â‰¥ 1, firm i is able to meet demand
completely, whereas demand can only be partially satisfied if ri < 1. If any supplier of firm
i (which is the set {j : Aji > 0}) is sufficiently output constrained, firm i faces an input
bottleneck according to Eq. (12). Due to perfect complementarity of inputs prescribed by
the Leontief production function, industry i can only produce a fraction of total demand as
indicated in Eq. (13), reducing its delivery to final consumers as specified in Eq. (14). The
new total demand to an industry i is then again derived through the weighted sum of final
demand values where the weights are obtained from the Leontief inverse, Eq. (15).
(b) Mixed proportional/priority rationing. It has been argued that firm-firm relationships are stronger than firm-household ties, so that intermediate demand should be
prioritized over final demand (Hallegatte 2008, Inoue & Todo 2019). While this assumption
might make sense for households, this is not necessarily the case for other final demand
categories. Final demand categories in national IO tables can include demand by governments and non-profit organizations, exports and investments and it is debatable whether
intermediate demand should be prioritized over these categories.
To quantify the effect of this assumption on the amplification of initial shocks, we implement a mixed proportional/priority rationing algorithm. Here, firms ration intermediate
demand proportional analogously to the proportional rationing algorithm (a), but prioritize
intermediate demand over final demand. We outline this algorithm below.
Algorithm 2 Proportional rationing among industries; industries are prioritized over final
consumers. Take an initial demand vector f [0] = f max as given, implying an initial aggregated demand vector d[1] = Lf [0]. By looping over the index t = {1, 2, ...}, the following
system is iterated forward:
xmax
i
,
A
j ij dj [t]

ri [t] = P

(16)

si [t] = min {rj [t], 1},

(17)

j:Aji >0

xi [t] = min{xmax
, si [t]di [t]},
ï£±i
ï£¼
ï£²
ï£½
X
fi [t] = max xi [t] âˆ’
Aij xj [t], 0 ,
ï£³
ï£¾
j
X
di [t + 1] =
Lij fj [t].

(18)
(19)
(20)

j

The algorithm converges to a new feasible economic allocation if di [t + 1] = di [t] for all i.
In this case output and final consumption levels are given as xi = di [t + 1] = xi [t + 1] and
fi = fi [t + 1], respectively.
The algorithm is similar to the proportional rationing algorithm (a) but differs mainly in
one aspect. Only intermediate demand affects the extent of an industryâ€™s output constraints,
Eq. (16). As a consequence, final demand does not play a role in the creation of input
bottlenecks, Eq. (17).

10

(c) Priority rationing (â€œlargest firstâ€). Since it is not obvious that firms should
pass on their output proportionally in case they are not able to meet demand fully, we next
consider a type of priority rationing. Firms rank their customers based on demand magnitude
and serve larger customers before smaller customers. In the proportional rationing setting an
output constrained supplier affects all customers in the same way. Under a priority rationing
scheme, however, supply shocks propagate downstream heterogeneously. For example, if a
supplier cannot meet demand by only a small margin, most customers will not be affected
by the priority rationing scheme. Only the smallest customers will face input bottlenecks,
whereas every customer would experience the same small shock in the proportional rationing
setup.
Intuitively, a priority rationing rule could make sense, as firms might have an interest
in serving more important (large) customers fully, or at least as well as possible, before
focusing on less important customers. It also seems closer to practice that firms process
orders one-by-one instead of working through all orders simultaneously and leaving them
incomplete to the same degree. While a priority rationing scheme could be plausible on the
basis of firms or single transactions, it might be less so for more aggregate industry level
data. A link between two industries in IO tables corresponds to many firm level transactions
and so it is not clear if large inter-industry links are due to a few big orders or many
small orders. This becomes particularly evident when considering final consumers. Several
industries face large demand from private consumers which effectively is the sum of many
small orders (e.g. restaurants, grocery, theaters). Since we only consider an aggregate of
final demand representing several distinct categories such as private consumers, government
and investments, we exclude final demand from the priority rationing scheme. Thus, in
the same manner as in the mixed prop./prior. rationing algorithm (b), we assume that
intermediate demand is always prioritized over final demand. By adopting this convention,
we can formulate the priority rationing algorithm as follows.
Algorithm 3 Largest first rationing; firms are prioritized over the final consumer. Take
an initial demand vector f [0] = f max as given, implying an initial aggregate demand vector
d[1] = Lf [0]. Every firm i ranks each customers j based on initial demand size: hij =
{k(1) , k(2) , ..., k(j) : Aik(1) dk(1) [1] â‰¥ Aik(2) dk(2) [1] â‰¥ ... â‰¥ Aik(j) dk(j) [1]}. By looping over the
index t = {1, 2, ...}, the following system is iterated forward:
xmax
i
,
A
nâˆˆhij in(j) dn(j) [t]

rij [t] = P

si [t] = min {rji [t], 1},
j:Aji >0

xi [t] = min{xmax
, si [t]di [t]},
ï£±i
ï£¼
ï£²
ï£½
X
fi [t] = max xi [t] âˆ’
Aij xj [t], 0 ,
ï£³
ï£¾
j
X
di [t + 1] =
Lij fj [t].

(21)
(22)
(23)
(24)
(25)

j

The algorithm converges to a new feasible economic allocation if di [t + 1] = di [t] for all i.
In this case output and final consumption levels are given as xi = di [t + 1] = xi [t + 1] and
fi = fi [t + 1], respectively.
(d) Random rationing.
As our final case we again consider priority rationing, but
instead of having a fixed ordering scheme based on demand magnitude, we use random
11

priority. Firms rank their customers randomly and serve customers based on their position
in the ranking. While largest-first rationing makes intuitive sense in some cases, it is unlikely
to be a good approximation for all real-world settings. In practice, it is likely that other
factors such as timing of orders matter. In that case firms could adopt a first-come-firstserve principle to process orders. Since input-output data rarely comes with granular time
information, we adopt a random ordering of incoming orders which mimics a first-come-firstserve principle under a uniform prior of which orders are coming in first. The algorithm is
presented below.
Algorithm 4 Random rationing; firms are prioritized over the final consumer. The algorithm is identical to Algorithm 3, except that the ranking of customer j by firm i, hij =
{k(1) , k(2) , ..., k(j) }, is randomly drawn.
While these algorithms are not guaranteed to converge to a steady state equilibrium, we
observe convergence in the vast majority of our simulation experiments. If the algorithm
converges, the economic allocations obtained are automatically feasible. This means that
no firm has negative output or produces more than its productive capacities allow, final
consumption is non-negative and below given exogenous maximum consumption levels, and
there are no input bottlenecks left that further constrain production of downstream firms.
The Leontief equation x = Lf holds, which implies that all sales add up to total output.

4.3

Results

We initialize these four rationing algorithms with the supply and demand shock and IO
data of Germany, Italy and Spain. We then compare the economic impacts predicted by the
optimization methods, as well as the steady state equilibrium values from the four rationing
algorithms. Fig. 2 summarizes the main result visually. As already reported in Table 1,
for all three countries supply shocks are substantially larger than final consumption shocks,
pushing the Direct shock triangles substantially below the 45 degree line. The direct shock
market allocations are not feasible, but all the others are feasible. All the feasible market
allocations lie close to the identity line, indicating that the economic impact is similar for
both gross output and final consumption.

Gross output (% of preâˆ’shock level)

Germany

Italy

Direct shock
Maximize f
Maximize x

60

Spain
Direct shock
Direct shock

Maximize x
Maximize f

Maximize f
Maximize x
Mixed

40
Mixed
Mixed

20

0

Random

Random
Priority

0

Proportional

Proportional

Proportional

Random
Priority

Priority

25

50

75

0
25
50
75
Final consumption (% of preâˆ’shock level)

0

25

50

75

Figure 2: Comparison of different shock propagation mechanisms. The y-axis denotes aggregate
gross output levels normalized by pre-shock levels as predicted by the rationing and optimization methods.
The x-axis shows the same for aggregate final consumption levels. The Random rationing triangle represents
the average taken from 100 samples and the error bars indicate the interquartile range.

The most striking aspect of Fig. 2 is the wide range in predicted economic output. As
expected, the two optimization methods have the highest output, but they still amplify the
12

initial supply shocks to reduce the output from about 69% to 63% in Germany and from
67% to 53% in Spain. At the other extreme, both the random rationing scheme and the
priority rationing scheme essentially collapse the entire economy. Proportional rationing
substantially collapses the economy (with an output below 20% of normal for all countries)
and the mixed scheme reduces output for Germany and Spain by more than 70% and about
60% for Italy.
Interestingly, the two maximization methods (maximize output vs. consumption) yield
exactly the same results both for aggregate predictions and on the industry level. This is
true even though the two optimization methods are not equivalent4 .
Fig. 2 makes it clear that the behavioral assumptions imposed on suppliers matter
enormously for economic impact predictions. In the absence of further modeling refinements
(such as inventories, adaptive behavior, substitution effects), shock amplification is always
pronounced if basic national accounting identities are required to hold. But the actual extent
of shock amplification depends strongly on how input bottlenecks are created and passed on
downstream in the supply chain.
4.3.1

Shock magnitude effects

We next investigate how sensitive economic impact predictions are with respect to shock
magnitude and network connectedness. While we have seen in Section 4.3 that different
assumptions on rationing behavior can lead to entirely different estimates of impact, it is
not clear whether these results are specific to the three datasets considered. We therefore
conduct a series of simulation experiments to gain a better understanding of the generality
of the results.
First, we investigate how the estimates of the various methods depend on the magnitude
of shocks. To do this, we rescale supply and demand shocks and we apply the optimization
methods and the rationing algorithms to the new shock data. We then redo this analysis
for various shock scales. To better differentiate between the qualitative effects of demand
and supply shock propagation, we allow for different scaling factors for demand and supply
constraints, i.e.
xmax
= (1 âˆ’ Î±S Si )xi,0 ,
i

(26)

fimax = (1 âˆ’ Î±D D
i )fi,0 ,

(27)

where Î±S , Î±D âˆˆ [0, 1].
Fig. 3(a) shows aggregate output levels for all cases when only demand shocks are scaled
between zero and one and when there are no further supply constraints being present (Î±S =
0, Î±D âˆˆ [0, 1])5 . It becomes evident that predictions made by the rationing algorithms and
the optimization methods are identical and scale linearly with the demand shock magnitude.
Thus, the rationing algorithms do not differ with respect to upstream shock propagation and
always arrive at the optimal solution in absence of further supply side constrictions.
4

When perturbing the economic systems we can find cases where the two optimization do not yield exactly
the same results. Practically, we find that aggregate predictions are always similar for the two methods
although industry level results can sometimes differ significantly.
5
Since results for aggregate final consumption and aggregate gross output are very similar, we only present
figures of the latter in this section. We show results for scaling supply and demand shocks concurrently
(Î±S = Î±D âˆˆ [0, 1]) in Appendix C.

13

Gross output (% of preâˆ’shock)

Germany

Italy

75
50
25
0

(a) Shock only demand
0.00
0.25
0.50

0.75

1.00 0.00

0.25
0.50
0.75
Shock vector scale Î±D
Direct shock

Gross output (% of preâˆ’shock)

Spain

100

Germany

1.00 0.00

0.25

0.50

0.75

1.00

0.75

1.00

All methods

Italy

Spain

100
75
50
25
0

(b) Shock only supply
0.00
0.25
0.50

0.75

1.00 0.00

Direct shock

0.25
0.50
0.75
Shock vector scale Î±S

Maximization

Proportional

Mixed

1.00 0.00
Priority

0.25

0.50

Random

Figure 3: Economic impact as a function of shock magnitude. (a) Aggregate gross output levels as
a function of scaling only demand shocks between zero and one (Î±S = 0, Î±D âˆˆ [0, 1]). All methods yield the
same economic impact estimates which scale linearly with Î±S . The black horizontal line indicates that there
is no adverse economic impact from supply side constraints. (b) Aggregate gross output levels as a function of
scaling only supply shocks between zero and one (Î±D = 0, Î±S âˆˆ [0, 1]). The Random rationing line represents
the average taken from 100 samples and the shades indicate the interquartile range. We do not distinguish
further between the two maximization methods as results are almost identical.

The picture becomes very different when rescaling only supply shocks and turning off
demand shocks (Î±D = 0, Î±S âˆˆ [0, 1]) as demonstrated in Fig. 3(b). Here, the direct impact
reduces gross output linearly as the shock magnitude is increased and puts an upper bound to
the solutions of the methods considered here. When there are no shocks, Î±S = 0, all methods
recover the empirical IO data as expected. For small shocks we observe that estimated
impacts are very similar across different methods, but the proportional rationing algorithm
consistently returns the smallest output values. The results of the other algorithms (mixed,
priority, random) lie between those proportional rationing and optimization predictions, and
are identical for small shocks up to about Î±S = 0.5. As Î±S is increased further they deviate
dramatically. Under the priority algorithm even a small increase in Î±S causes the economy
to collapse. The random algorithm also causes the economy to collapse, though more slowly,
and the mixed algorithm is substantially better.
Fig. 3 thus makes clear that the ranking of the impact assessment methods as seen in
Fig. 2 is not generic, but strongly depends on the shock magnitude. If there are only small
supply shocks present, a priority rationing rule is better than proportional rationing. In this
case most of the demand of downstream firms can be met and small shocks only propagate
to few customers. In a proportional rationing setup, on the other hand, shocks are passed on
to every customer. Despite small shock magnitudes, the wider breadth of shock propagation
leads to comparatively larger aggregate impacts.
In contrast, priority rationing exacerbates shock propagation compared to proportional
rationing in case of large supply shocks. If firms are severely output constrained and ration
based on a priority rule, the demand of several customersâ€™ might not be satisfied at all. The
Leontief production function, in turn, implies a complete shutdown of these downstream
firms due to the input bottlenecks created. More input bottlenecks will be created in further
14

rounds of shock propagation, potentially causing massive collapses. If supply shocks are that
large, shock amplification is milder if passed on proportionally to customers. While here every
customer experiences some shocks from a constrained supplier, this effect is outweighed by
the fact that proportional rationing avoids the creation of even larger idiosyncratic input
bottlenecks.
4.3.2

Network density

Intuitively, the extent of shock propagation not only depends on the size of initial shocks
but also on how firms are connected with each other. If the production network is dense,
i.e. most of the potential links are present, idiosyncratic shocks will spread out very quickly
to many other firms in the network. In contrast, if the network is sparse, shock propagation
might be more local, at least initially, and takes more steps to spread out in the network.
We therefore conduct an experiment where we again apply the different shock propagation mechanism to the data, but control for the IO network density. We do this in the
following way. First, we randomly eliminate a given number of links in the intermediate
consumption matrix Z 6 . We only consider deleting links
P instead of adding links since the
aggregate IO networks we are using are highly dense ( ij 1{Zij >0} /N 2 > 99%). Note that
setting a link Zij > 0 equal to zero without changing final consumption
values reduces toP
tal output of supplier i, since the accounting identity xi = j Zij + fi has to hold. The
output of customer j will not be affected if we assume that the reduction in intermediate
consumption is absorbed by a respective increase of jâ€™s value added (which does not affect
the simulations). After deleting nodes we thus rebalance the economic system by adjusting
gross output of the relevant firms such that the basic national accounting identity is satisfied.
Next, we recompute the technical coefficient matrix A, the Leontief matrix L and the vector
of productive constraints xmax to initialize the optimization and rationing simulations. We
repeat this procedure 50 times for a given level of density and explore the whole range of
possible density values.
We visualize aggregate output levels predicted by the various impact assessment methods
as a function of network density in Fig. 4. The plot again confirms that the observed ranking
of methods in Fig. 2 is not generic but is strongly affected by the network density. It becomes
clear that shock amplification is comparatively small if the network is very sparse. On the
other hand, if the network is very dense, as the empirical data would suggest, economic
impacts are substantial for all cases. In particular, the gap between the optimal solution and
the bottom-up rationing approaches widens with higher network density. Interestingly, also
the minimal amplification of direct shocks increases with higher density values, although the
size of this effect is rather small.
6

We also experimented with eliminating smallest links first instead of randomly selection. Results are
qualitative similar to the ones presented here and shown in the Appendix D.

15

Gross output (% of preâˆ’shock)

Germany

Italy

Spain

60

40

20

0
0.00

0.25

0.50

0.75

1.00 0.00

Direct shock

0.25

Maximization

0.50
Density

0.75

Proportional

Mixed

1.00 0.00
Priority

0.25

0.50

0.75

1.00

Random

Figure 4: Economic impact as a function of network density. The network density is changed by
randomly eliminating links in the IO network. Solid lines are predicted output values obtained from averaging
over 50 samples and shades indicate the interquartile range. Since random rationing is stochastic by itself, we
apply this algorithm 50 times to every network sample and take averages and quantiles over the full (pooled)
density-specific sample. The actual data corresponds to the very right of the x-axis, as indicated by the
diamonds.

If firms have only few suppliers and customers, proportional rationing yields by far the
most pessimistic predictions of aggregate impact. If there are many connections among firms,
on the contrary, proportional rationing mitigates shock propagation dynamics compared to
priority and random rationing. Shock amplification is always mildest if firms use a mixed
proportional/priority rationing rule, although even in this case economic impacts increase
substantially with higher density.
These results indicate that estimates of economic impact are highly sensitive with respect
to the network structure which, in turn, often depends on the level of data aggregation.
More aggregated data necessarily implies higher levels of density. For example, industry
level links are the result of pooling many firm links. Firm-level production networks, on the
other hand, are an aggregation of many individual contractual relationships and payments.
Imagine applying the rationing mechanisms to a firm level production network in two ways:
first to the actual firm level data and second to an industry aggregate of the same data. Our
results suggest that predicted economic impacts could be substantially larger in the second
case, despite using the same underlying data.
Our findings also point out that economic impact predictions can be sensitive with respect
to data quality. Many disaggregate firm level production network datasets are substantially
biased, as they frequently include only specific supplier-customer relationships which are
subject to specific reporting rules. Thus, we would expect real world production network to
be substantially denser than what the data suggests. Our analysis indicates that such biases
could have important consequences for impact assessment.

5

Discussion

We have shown that existing IO models have difficulties dealing with simultaneous supply
and demand shocks, which play an important role in situations such as natural disasters and
during a pandemic. We have introduced a simple optimization method that allows us to find
best case market allocations which are consistent with the exogenous shocks. To obtain more
realistic, bottom-up impact estimates, we studied alternative rationing dynamics which differ
in how suppliers serve customers in case of output constraints. Using IO data for Germany,
Italy and Spain, we found that these bottom-up approaches lead to substantial amplifications

16

of initial shocks which are much higher than optimal solutions would suggest. We further
established the result that different rationing assumptions can lead to dramatically different
economic impact predictions. Moreover, these predictions are highly sensitive with respect
to the magnitude of first-order shocks and the production network structure.
It is clear that adequate macroeconomic predictions of pandemic impacts require more
sophisticated modeling techniques than the ones studied here. Yet the downside of more
complicated models is that the underlying mechanisms of predictions can be difficult to
isolate. We therefore studied relatively simple economic models to better carve out key
mechanisms of shock propagation in twofold constrained production networks. The choice
for simplicity in this study also entails limitations which are important to bear in mind.
We did not depart from the assumption of industry-specific Leontief production functions
throughout our analysis, although the choice of production function has been shown to be
a key variable for impact assessment (Pichler et al. 2020). While input substitutions might
be limited in the short-run, fixed production recipes are nevertheless a strong assumption,
in particular for the aggregate data considered here.
It is also important to stress that we did not take any adaptive behavior of economic
agents into account and did not allow for the possibility of inventory buildup and depletion.
By imposing feasible market solutions, we essentially forced the economy to converge into a
new equilibrium. However, it is not clear that a perturbed complex system such as national
economies would quickly approach a new equilibrium state instead of following transient
paths for an extended period. In general, we refrained from making the time dimension
explicit, although we acknowledge its relevance for shock propagation dynamics.
Despite the caveats mentioned, our analysis makes clear that level of aggregation and
data quality play an important role in aggregate predictions of shock amplification. Detailed
and high-quality production network data is rare, necessitating researchers to study biased
or aggregate data. Inevitably, this will affect the connectedness of economic agents and
thus influence shock propagation mechanisms. It should also be mentioned that estimates
of direct shocks to supply and demand are subject to large uncertainties. This could have
important consequences for model predictions, due to the sensitivity of shock propagation
mechanisms with respect to first-order shock magnitudes.
We found that the number of links between industries strongly influences how different
behavior rules amplify direct shocks. The level of connectedness is a very simple aggregate
network measure and we would expect that further aspects, such as community structure,
degree/strength heterogeneity or (dis-) assortative mixing, play an important role too. Understanding how alternative rationing assumptions interact with structural properties of
complex networks would require more detailed production network data, e.g. at the firm
level, and could be an interesting avenue for future research.
We conclude by stressing that our analysis is not constrained to pandemic shocks only.
While the Covid-19 pandemic is a main motivation of our study, simultaneous supply and
demand constraints are ubiquitous features of any economy, in particular in the short run.
Supply shocks are a prominent characteristic of many natural hazards (floods, earthquakes,
hurricanes) and tools of mostly demand-driven IO analysis are frequently applied for impact
assessment. Our results indicate that adequately modeling shock propagation in production
networks will require a better integration of both types of economic constraints.

References
Arto, I., Andreoni, V. & Rueda Cantuche, J. M. (2015), â€˜Global impacts of the automotive supply chain disruption following the japanese earthquake of 2011â€™, Economic Systems Research
27(3), 306â€“323.

17

Avelino, A. F. & Dallâ€™erba, S. (2019), â€˜Comparing the economic impact of natural disasters generated
by different inputâ€“output models: An application to the 2007 chehalis river flood (wa)â€™, Risk
analysis 39(1), 85â€“104.
Baqaee, D. R. & Farhi, E. (2020), â€˜Nonlinear production networks with an application to the covid-19
crisisâ€™.
Barrot, J.-N., Grassi, B. & Sauvagnat, J. (2020), â€˜Sectoral effects of social distancingâ€™, Covid Economics 3, 10 April 2020: 85-102 .
Battiston, S., Gatti, D. D., Gallegati, M., Greenwald, B. & Stiglitz, J. E. (2007), â€˜Credit chains
and bankruptcy propagation in production networksâ€™, Journal of Economic Dynamics and Control
31(6), 2061â€“2084.
Bonadio, B., Huo, Z., Levchenko, A. A. & Pandalai-Nayar, N. (2020), â€˜Global supply chains in the
pandemicâ€™, CEPR DP14766 .
Carvalho, V. M., Hansen, S., Ortiz, AÌ., Garcia, J. R., Rodrigo, T., Rodriguez Mora, S. & Ruiz de
Aguirre, P. (2020), â€˜Tracking the covid-19 crisis with high-resolution transaction dataâ€™.
Cerina, F., Zhu, Z., Chessa, A. & Riccaboni, M. (2015), â€˜World input-output networkâ€™, PloS one
10(7), e0134025.
Chen, H., Qian, W. & Wen, Q. (2020), â€˜The impact of the covid-19 pandemic on consumption:
Learning from high frequency transaction dataâ€™, Available at SSRN 3568574 .
Chetty, R., Friedman, J. N., Hendren, N., Stepner, M. et al. (2020), How did covid-19 and stabilization
policies affect spending and employment? a new real-time economic tracker based on private sector
data, Technical report, National Bureau of Economic Research.
Congressional Budget Office (2006), â€˜Potential influenza pandemic: Possible macroeconomic effects
and policy issuesâ€™. https://www.cbo.gov/sites/default/files/109th-congress-2005-2006/
reports/12-08-birdflu.pdf.
De Mesnard, L. (2009), â€˜Is the ghosh model interesting?â€™, Journal of Regional Science 49(2), 361â€“372.
del Rio-Chanona, R. M., Mealy, P., Pichler, A., Lafond, F. & Farmer, D. (2020), â€˜Supply and demand
shocks in the covid-19 pandemic: An industry and occupation perspectiveâ€™, Covid Economics 6, 65â€“
103.
URL: https://arxiv.org/abs/2004.06759
Dietzenbacher, E. & Miller, R. E. (2015), â€˜Reflections on the inoperability inputâ€“output modelâ€™,
Economic Systems Research 27(4), 478â€“486.
Dingel, J. & Neiman, B. (2020), â€˜How many jobs can be done at home?â€™, Covid Economics 1.
Fadinger, H. & Schymik, J. (2020), The effects of working from home on covid-19 infections and production a macroeconomic analysis for germany, Technical report, University of Bonn and University
of Mannheim, Germany.
Fana, M., Tolan, S., Perez, S. T., Brancati, M. C. U., Macias, E. F. et al. (2020), The covid confinement measures and eu labour markets, Technical report, Joint Research Centre (Seville site).
Galbusera, L. & Giannopoulos, G. (2018), â€˜On input-output economic models in disaster impact
assessmentâ€™, International journal of disaster risk reduction 30, 186â€“198.
Ghosh, A. (1958), â€˜Input-output approach in an allocation systemâ€™, Economica 25(97), 58â€“64.
Gruver, G. W. (1989), â€˜On the plausibility of the supplyâ€”driven input-output model: A theoretical
basis for input-coefficient changeâ€™, Journal of Regional Science 29(3), 441â€“450.

18

Guan, D., Wang, D., Hallegatte, S., Davis, S. J., Huo, J., Li, S., Bai, Y., Lei, T., Xue, Q., Coffman, D.
et al. (2020), â€˜Global supply-chain effects of covid-19 control measuresâ€™, Nature Human Behaviour
pp. 1â€“11.
Haimes, Y. Y. & Jiang, P. (2001), â€˜Leontief-based model of risk in complex interconnected infrastructuresâ€™, Journal of Infrastructure systems 7(1), 1â€“12.
Hallegatte, S. (2008), â€˜An adaptive regional input-output model and its application to the assessment
of the economic cost of katrinaâ€™, Risk Analysis: An International Journal 28(3), 779â€“799.
Hallegatte, S. (2014), â€˜Modeling the role of inventories and heterogeneity in the assessment of the
economic costs of natural disastersâ€™, Risk analysis 34(1), 152â€“167.
Henriet, F., Hallegatte, S. & Tabourier, L. (2012), â€˜Firm-network characteristics and economic robustness to natural disastersâ€™, Journal of Economic Dynamics and Control 36(1), 150â€“167.
Inoue, H. & Todo, Y. (2019), â€˜Firm-level propagation of shocks through supply-chain networksâ€™,
Nature Sustainability 2(9), 841â€“847.
Inoue, H. & Todo, Y. (2020), â€˜The propagation of the economic impact through supply chains: The
case of a mega-city lockdown against the spread of covid-19â€™, Covid Economics 2.
Kerschner, C. & Hubacek, K. (2009), â€˜Erratum to â€œassessing the suitability of input-output analysis
for enhancing our understanding of potential effects of peak-oilâ€â€™, Energy 34(10), 1662â€“1668.
Koks, E. E., BocÌŒkarjova, M., de Moel, H. & Aerts, J. C. (2015), â€˜Integrated direct and indirect flood
risk modeling: development and sensitivity analysisâ€™, Risk analysis 35(5), 882â€“900.
Koks, E. E. & Thissen, M. (2016), â€˜A multiregional impact assessment model for disaster analysisâ€™,
Economic Systems Research 28(4), 429â€“449.
Koren, M. & PetoÌ‹, R. (2020), â€˜Business disruptions from social distancingâ€™, Covid Economics 2.
Li, J., Crawford-Brown, D., Syddall, M. & Guan, D. (2013), â€˜Modeling imbalanced economic recovery
following a natural disaster using input-output analysisâ€™, Risk analysis 33(10), 1908â€“1923.
Mandel, A. & Veetil, V. P. (2020), â€˜The economic cost of covid lockdowns: An out-of-equilibrium
analysisâ€™, Available at SSRN 3588421 .
McNerney, J., Fath, B. D. & Silverberg, G. (2013), â€˜Network structure of inter-industry flowsâ€™, Physica
A: Statistical Mechanics and its Applications 392(24), 6427â€“6441.
Miller, R. E. & Blair, P. D. (2009), Input-output analysis: foundations and extensions, Cambridge
University Press.
Oosterhaven, J. (1988), â€˜On the plausibility of the supply-driven input-output modelâ€™, Journal of
Regional Science 28(2), 203â€“217.
Oosterhaven, J. & Bouwmeester, M. C. (2016), â€˜A new approach to modeling the impact of disruptive
eventsâ€™, Journal of Regional Science 56(4), 583â€“595.
Pichler, A., Pangallo, M., del Rio-Chanona, R. M., Lafond, F. & Farmer, J. D. (2020), â€˜Production
networks and epidemic spreading: How to restart the UK economy?â€™, Covid Economics 23, 79â€“151.
URL: https://arxiv.org/abs/2005.10585
Pichler, A., Pangallo, M., del Rio-Chanona, R. M., Lafond, F. & Farmer, J. D. (2021), â€˜In and out of
lockdown: Propagation of supply and demand shocks in a dynamic input-output modelâ€™, Working
paper .
Poledna, S., Hochrainer-Stigler, S., Miess, M. G., Klimek, P., Schmelzer, S., Sorger, J., Shchekinova,
E., Rovenskaya, E., Linnerooth-Bayer, J., Dieckmann, U. et al. (2018), â€˜When does a disaster become a systemic event? estimating indirect economic losses from natural disastersâ€™, arXiv preprint
arXiv:1801.09740 .

19

Poledna, S., Miess, M. G. & Hommes, C. H. (2019), â€˜Economic forecasting with an agent-based
modelâ€™, Available at SSRN 3484768 .
Santos, J. R. & Haimes, Y. Y. (2004), â€˜Modeling the demand reduction input-output (i-o) inoperability due to terrorism of interconnected infrastructuresâ€™, Risk Analysis: An International Journal
24(6), 1437â€“1451.
Steenge, A. E. & BocÌŒkarjova, M. (2007), â€˜Thinking about imbalances in post-catastrophe economies:
an inputâ€“output based propositionâ€™, Economic Systems Research 19(2), 205â€“223.
Steinback, S. R. (2004), â€˜Using ready-made regional input-output models to estimate backwardlinkage effects of exogenous output shocksâ€™, Review of Regional Studies 34(1), 57â€“71.
Timmer, M. P., Dietzenbacher, E., Los, B., Stehrer, R. & De Vries, G. J. (2015), â€˜An illustrated user
guide to the world inputâ€“output database: the case of global automotive productionâ€™, Review of
International Economics 23(3), 575â€“605.

20

Appendix
A

Details on first-order shocks to supply and demand

21

ISIC
A01
A02
A03
B
C10-12
C13-15
C16
C17
C18
C19
C20
C21
C22
C23
C24
C25
C26
C27
C28
C29
C30
C31-32
C33
D35
E36
E37-39
F
G45
G46
G47
H49
H50
H51
H52
H53
I
J58
J59-60
J61
J62-63
K64
K65
K66
L68
M69-70
M71
M72
M73
M74-75
N
O84
P85
Q
RS
T

Industry
Agriculture
Forestry
Fishing
Mining
Manuf. Food-Beverages
Manuf. Textiles
Manuf. Wood
Manuf. Paper
Media print
Manuf. Coke-Petroleum
Manuf. Chemical
Manuf. Pharmaceutical
Manuf. Rubber-Plastics
Manuf. Minerals
Manuf. Metals-basic
Manuf. Metals-fabricated
Manuf. Electronic
Manuf. Electric
Manuf. Machinery
Manuf. Vehicles
Manuf. Transport-other
Manuf. Furniture
Repair-Installation
Electricity-Gas
Water
Sewage
Construction
Vehicle trade
Wholesale
Retail
Land transport
Water transport
Air transport
Warehousing
Postal
Accommodation-Food
Publishing
Video-Sound-Broadcasting
Telecommunications
IT
Finance
Insurance
Auxil. Finance-Insurance
Real estate
Legal
Architecture-Engineering
R&D
Advertising
Other Science
Private Administration
Public Administration
Education
Health
Other Service
Household activities

DEU
0.5
0.1
0.0
0.3
4.1
0.6
0.4
0.6
0.1
1.7
3.4
1.1
1.4
0.6
1.5
1.8
2.0
2.3
5.8
8.2
1.0
1.4
0.5
1.6
0.2
0.7
5.5
0.9
3.4
3.4
0.8
0.7
0.6
0.3
0.1
2.4
0.4
0.6
0.9
1.5
1.9
1.4
0.0
7.2
0.7
1.0
0.9
0.1
0.3
1.2
6.1
4.1
8.3
3.2
0.2

fi (%)
ESP
1.4
0.0
0.1
0.5
5.0
1.4
0.1
0.4
0.1
2.6
2.1
1.0
0.7
0.5
1.3
1.0
0.4
0.8
1.4
3.7
1.1
0.6
0.3
1.6
0.4
0.7
7.6
1.7
4.1
5.5
1.7
0.2
0.6
0.8
0.0
8.6
0.3
0.5
1.3
1.6
0.8
1.1
0.2
7.8
0.6
1.0
0.5
0.1
0.1
1.2
6.3
5.1
7.2
3.3
0.8

ITA
1.0
0.1
0.0
0.4
4.0
2.9
0.3
0.5
0.1
1.4
1.5
1.2
1.0
0.7
1.4
1.6
0.9
1.4
4.7
2.1
1.0
1.4
0.6
1.1
0.3
0.6
7.5
1.4
4.6
5.7
1.8
0.5
0.4
1.1
0.1
4.7
0.3
0.3
1.2
1.1
0.9
1.0
0.1
9.8
0.4
0.2
0.6
0.1
0.3
1.1
7.1
3.9
7.5
3.2
1.1

DEU
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
9.9
8.1
10.0
10.0
10.0
10.0
9.9
10.0
10.0
10.0
9.9
9.9
10.0
2.3
1.5
3.6
10.0
10.0
9.8
9.5
56.9
11.4
50.3
22.3
3.4
73.1
3.8
4.3
1.1
8.8
2.9
1.3
2.0
0.2
9.3
9.4
8.3
10.0
3.5
4.2
0.2
0.7
0.1
4.3
0.0

D
i (%)
ESP
9.9
8.6
10.0
10.0
10.0
10.0
10.0
10.0
9.9
10.0
9.9
9.3
9.9
10.0
10.0
10.0
9.9
10.0
10.0
10.0
9.9
9.9
10.0
0.8
0.9
2.5
9.9
10.0
9.5
9.5
38.8
27.5
24.7
19.7
2.2
75.5
5.4
3.8
1.6
9.5
3.8
0.8
1.9
0.1
7.9
9.3
7.9
9.1
3.5
4.2
0.7
1.0
0.1
4.3
-0.0

ITA
10.0
3.8
10.0
10.0
10.0
10.0
9.9
10.0
10.0
10.0
10.0
9.8
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
10.0
1.2
0.6
1.7
9.9
10.0
9.9
9.8
55.2
47.3
47.3
33.5
3.4
79.1
4.0
3.5
3.0
8.5
1.6
1.1
4.9
0.5
5.2
8.4
9.8
9.2
5.0
4.9
0.0
0.0
0.1
4.7
-0.0

Table 2: Industry-specific demand shock details. fi denotes final consumption per industry as fraction
of aggregate final consumption. D
i is the total demand shock per industry.

22

ISIC
A01
A02
A03
B
C10-12
C13-15
C16
C17
C18
C19
C20
C21
C22
C23
C24
C25
C26
C27
C28
C29
C30
C31-32
C33
D35
E36
E37-39
F
G45
G46
G47
H49
H50
H51
H52
H53
I
J58
J59-60
J61
J62-63
K64
K65
K66
L68
M69-70
M71
M72
M73
M74-75
N
O84
P85
Q
RS
T

Industry
Agriculture
Forestry
Fishing
Mining
Manuf. Food-Beverages
Manuf. Textiles
Manuf. Wood
Manuf. Paper
Media print
Manuf. Coke-Petroleum
Manuf. Chemical
Manuf. Pharmaceutical
Manuf. Rubber-Plastics
Manuf. Minerals
Manuf. Metals-basic
Manuf. Metals-fabricated
Manuf. Electronic
Manuf. Electric
Manuf. Machinery
Manuf. Vehicles
Manuf. Transport-other
Manuf. Furniture
Repair-Installation
Electricity-Gas
Water
Sewage
Construction
Vehicle trade
Wholesale
Retail
Land transport
Water transport
Air transport
Warehousing
Postal
Accommodation-Food
Publishing
Video-Sound-Broadcasting
Telecommunications
IT
Finance
Insurance
Auxil. Finance-Insurance
Real estate
Legal
Architecture-Engineering
R&D
Advertising
Other Science
Private Administration
Public Administration
Education
Health
Other Service
Household activities

DEU
0.9
0.1
0.0
0.2
3.5
0.4
0.5
0.7
0.4
1.5
2.6
0.9
1.4
0.8
1.9
2.4
1.4
1.9
4.5
6.3
0.8
0.9
0.7
2.4
0.2
0.9
5.2
1.1
3.9
3.0
1.8
0.5
0.5
2.3
0.6
1.6
0.6
0.6
1.2
2.1
2.7
1.4
0.6
7.2
2.5
1.2
0.6
0.4
0.4
3.9
4.6
2.9
5.4
2.8
0.1

xi (%)
ESP
2.2
0.0
0.1
0.3
6.9
1.0
0.3
0.6
0.4
2.4
2.5
0.7
0.9
0.8
2.1
1.4
0.4
0.8
1.2
2.5
0.8
0.6
0.5
4.7
0.5
0.8
6.4
1.4
4.9
3.9
2.5
0.2
0.5
2.1
0.2
5.8
0.4
0.6
1.8
1.4
2.1
1.0
0.4
6.7
1.5
1.1
0.3
0.5
0.3
2.6
4.4
3.4
4.8
2.7
0.5

ITA
1.7
0.0
0.1
0.3
4.1
2.6
0.5
0.7
0.4
1.7
1.6
0.8
1.3
1.0
1.8
2.6
0.7
1.1
3.6
1.5
0.7
1.2
0.6
2.7
0.3
1.3
6.7
1.1
5.3
3.9
3.0
0.4
0.4
2.1
0.2
3.3
0.3
0.5
1.3
1.6
2.9
0.8
1.0
7.5
2.3
1.0
0.4
0.5
0.7
3.0
4.2
2.4
4.9
2.7
0.6

DEU
0.0
85.0
0.0
48.3
0.0
68.5
73.1
34.3
0.0
0.0
19.0
0.0
35.3
63.9
72.6
66.3
43.1
63.1
61.8
69.7
59.7
65.2
60.6
0.0
0.0
0.0
71.6
18.0
0.0
24.7
0.0
0.0
0.0
0.0
0.0
64.6
0.0
0.0
0.0
7.2
0.0
0.0
0.0
51.3
36.3
45.9
41.1
39.7
19.6
42.7
0.0
0.0
0.0
61.2
0.0

S
i (%)
ESP
0.0
85.0
0.0
48.3
26.0
68.5
73.1
0.0
0.0
6.4
52.5
0.0
70.5
63.9
72.6
66.3
43.1
63.1
61.8
69.7
59.7
59.7
60.6
5.8
0.0
0.0
71.6
27.3
30.0
25.7
0.0
0.0
24.2
0.0
0.0
64.6
7.6
11.0
0.0
14.4
0.0
0.0
0.0
51.3
18.1
45.9
41.1
39.7
19.6
54.3
0.0
46.0
0.0
56.0
0.0

ITA
0.0
85.0
0.0
34.5
26.0
59.4
60.6
48.7
0.0
0.0
8.2
0.0
47.2
61.4
72.6
66.3
38.8
50.5
47.0
69.7
59.7
58.0
34.0
0.0
0.0
0.0
49.6
13.7
33.5
25.2
0.0
0.0
0.0
0.0
0.0
56.6
0.0
0.0
0.0
0.0
0.0
0.0
0.0
51.3
0.0
0.0
0.0
39.7
0.0
41.6
0.0
0.0
0.0
49.2
0.0

DEU
100.0
0.0
100.0
30.0
100.0
0.0
0.0
50.0
100.0
100.0
70.0
100.0
50.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
100.0
100.0
100.0
0.0
67.0
100.0
51.0
100.0
100.0
100.0
100.0
100.0
0.0
100.0
100.0
100.0
75.0
100.0
100.0
100.0
0.0
0.0
0.0
0.0
0.0
50.0
33.3
100.0
100.0
100.0
0.0
0.0

ei (%)
ESP
100.0
0.0
100.0
30.0
66.7
0.0
0.0
100.0
100.0
90.0
17.0
100.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
0.0
8.5
0.0
90.0
100.0
100.0
0.0
50.0
40.0
49.0
100.0
100.0
66.0
100.0
100.0
0.0
75.0
75.0
100.0
50.0
100.0
100.0
100.0
0.0
50.0
0.0
0.0
0.0
50.0
15.2
100.0
0.0
100.0
8.6
0.0

ITA
100.0
0.0
100.0
50.0
66.7
13.3
17.0
29.0
100.0
100.0
87.0
100.0
33.0
4.0
0.0
0.0
10.0
20.0
24.0
0.0
0.0
11.0
44.0
100.0
100.0
100.0
30.7
75.0
33.0
50.0
100.0
100.0
100.0
100.0
100.0
12.5
100.0
100.0
100.0
100.0
100.0
100.0
100.0
0.0
100.0
100.0
100.0
0.0
100.0
35.0
100.0
100.0
100.0
19.6
50.0

RLIi
(%)
13.6
15.0
35.7
31.0
22.1
31.5
26.9
31.5
39.0
36.0
36.7
40.3
29.5
36.1
27.4
33.7
56.9
36.9
38.2
30.3
40.3
34.8
39.4
41.6
33.5
29.8
28.4
45.4
50.1
49.7
31.4
35.3
28.8
29.6
35.6
35.4
69.8
56.1
55.1
71.1
71.4
71.3
71.7
48.7
63.7
54.1
58.9
60.3
60.8
36.0
44.6
54.0
36.0
38.8
100.0

Table 3: Industry-specific supply shock details. xi denotes gross output per industry as share of
aggregate output. S
i is the total supply shock per industry. ei is the extent to which an industry is considered
as essential following government policies. RLIi is the Remote Labor Index.

23

B

Details on mixed endogenous/exogenous modeling

The MEEM can yield infeasible economic allocations and it depends on the context whether
negative final consumption values are meaningful or not (Miller & Blair 2009, p. 628). To
see why the MEEM can give negative final consumption values, let us consider the outputconstrained part of Eq. (6), which can be rewritten as
f s = [I âˆ’ Ass ]xs âˆ’ Asd [I âˆ’ Add ]âˆ’1 (Ads xs + f d ).

(28)

Note that the vector (Ads xs + f d ) is always non-negative by definition, as is every element
of the matrix Asd [I âˆ’ Add ]âˆ’1 . (This is clear from invoking the Hawkins-Simon conditions).
Thus, for f s â‰¥ 0, [I âˆ’ Ass ]xs must be non-negative and larger than the part to the right
of the minus in Eq. (28). However, this term can be negative for supply shocks that are
sufficiently heterogeneous. For example, consider the case of an economy with only two
supply-constrained industries without self-loops, i and j. Any supply shocks which lead to
max yield negative final consumption values for industry i. This demonstrates
xmax
< Ass
i
ij xj
that the MEEM framework is unlikely to yield plausible solutions in the current context.
The MEEM can also lead to final consumption values that lie above any given prespecified upper limit of consumption fimax . Let us again consider an example of two industries, i and j, where i is supply constrained and j is demand constrained. If industry i only
supplies industry j and final consumers and industry j only supplies to final consumers, it
DS < Asd f DS . Thus, in case industry i is only
can be verified that fis > fimax if xSS
i âˆ’ fi
ij j
slightly supply constrained (supply shocks are only slightly larger than demand shocks) and
industry j faces comparatively serious demand constraints, the MEEM would compute larger
final consumption values for industry i than are possible.
Note that gross output values of demand constrained industries always lie within the
feasible range xdi âˆˆ [0, xmax
] if only adverse supply shocks to the economy are allowed (Si â‰¥
i
0). By noting that xd = [I âˆ’ Add ]âˆ’1 (Ads xs + f d ), it can easily be verified that xdi â‰¥ 0. The
d
condition that Si xdi < D
i fi ensures that output of demand constrained industries cannot
exceed the maximum output value xmax
.
i
The supply and demand shocks do not need to be large for the MEEM to generate
infeasible solutions. To show this we scale down the size of the supply and demand shocks
by varying a parameter Î± âˆˆ [0, 1] to obtain new maximum output and consumption values,
according to
xmax
= (1 âˆ’ Î±Si )xi,0 ,
i

(29)

fimax = (1 âˆ’ Î±D
i )fi,0 .

(30)

Since we scale demand and supply shocks by the same proportion this does not change which
industries are supply or demand constrained.
Fig. 5 shows the MEEM results for varying directs shocks. If Î± = 0, there is no direct
shock, resulting in a feasible market allocation since in this case the MEEM simply recovers
the pre-shock economy. This is indicated by the green colors at the very left of all three
panels. But even for very small Î± > 0 we obtain infeasible solutions for all three countries
as shown by the gray colors. If we increase shock sizes further, it becomes more likely that
the model computes negative final consumptions values as can be seen from the transition
of red colors into gray when following the x-axis from left to right.

24

Germany

Italy

Spain

A01
A02
A03
B
C10âˆ’12
C13âˆ’15
C16
C17
C18
C19
C20
C21
C22
C23
C24
C25
C26
C27
C28
C29
C30
C31âˆ’32
C33
D35
E36
E37âˆ’39
F
G45
G46
G47
H49
H50
H51
H52
H53
I
J58
J59âˆ’60
J61
J62âˆ’63
K64
K65
K66
L68
M69âˆ’70
M71
M72
M73
M74âˆ’75
N
O84
P85
Q
R_S
T

0.0

0.2

0.4

0.6

0.8

1.0 0.0
(f fmax):

0.00

0.2

0.4
0.6
0.8
Shock vector scale
0.25

0.50

1.0 0.0

0.75

0.2

0.4

0.6

0.8

1.0

1.00

Figure 5: Infeasible results for final consumption for the MEEM model as a function of shock
size. The parameter Î± that scales the supply and demand shocks varies along the x-axis. The color codes
indicate the ratio f /f max where f is the MEEM result of final consumption. Note that this ratio is always
equal to one (green color) for industries which are demand constrained. Infeasible values, f âˆˆ
/ [0, f max ], are
indicated in gray.

C

Details on shock magnitude effects

In the main text we have shown the effect of scaling either supply or demand shocks on
aggregate output. We also explored shock amplification effects when scaling both, supply
and demand shocks, simultaneously. Fig. 6 shows the effect of different shock magnitudes
on aggregate output and final consumption values. Results are fairly similar for aggregate
values of output and consumption and are also in qualitative agreement with the results
presented in Fig. 3.

25

Gross output (% of preâˆ’shock)
Final consumption (% of preâˆ’shock)

Germany

Italy

Spain

100
75
50
25
0
0.00

0.25

0.50

0.75

1.00 0.00

Direct shock

0.25
0.50
0.75
1.00 0.00
Shock vector scale Î± (= Î±S = Î±D )

Maximization

Proportional

Germany

Mixed

Priority

0.25

0.50

0.75

1.00

0.75

1.00

Random

Italy

Spain

100
75
50
25
0
0.00

0.25

0.50

0.75

1.00 0.00

Direct shock

0.25
0.50
0.75
1.00 0.00
Shock vector scale Î± (= Î±S = Î±D )

Maximization

Proportional

Mixed

Priority

0.25

0.50

Random

Figure 6: Economic impact as a function of shock magnitude. Aggregate gross output and final
consumption levels as a function of scaling demand and supply shocks equally between zero and one (Î± =
Î±S = Î±D âˆˆ [0, 1]).

D

Details on network density

In Section 4.3.2 we removed links randomly and repeated this procedure multiple times for
any desired network density value. While random edge removal is one possible approach,
other procedures could be followed too. A natural alternative to random edge deletion is to
first delete small links. While the high aggregation of the data results in almost complete
graphs, link sizes are highly heterogeneous, implying the existence of many very small links
(McNerney et al. 2013, Cerina et al. 2015). It could be argued that many of these links
are rather an artifact of data aggregation instead of encoding a fixed production recipe.
We therefore repeat the procedure of Section 4.3.2 but eliminate smaller before larger links
to achieve a given level of network density. Doing this results in Fig. 7 which indicates
qualitatively similar results as Fig. 4 of the main text.

26

Gross output (% of preâˆ’shock)

Germany

Italy

Spain

60

40

20

0
0.00

0.25

0.50

0.75

1.00 0.00
Direct shock

0.25

Maximization

0.50
Density
Proportional

0.75
Mixed

1.00 0.00
Priority

0.25

0.50

0.75

1.00

Random

Figure 7: Economic impact as a function of network density. The figure is the same as Fig. 4 in the
main text, except that network density is changed by eliminating links based on their size instead of random
deletion.

The elimination of existing IO links changes key properties of the underlying economic
system. As discussed in Section 4.3.2, removing intermediate consumption values will reduce
aggregate output. Figs. 8(a) and 8(b) visualize the relationship between output and network density following the random link and â€œsmallest-firstâ€ removal approach, respectively.
Similarly, the ratio intermediate consumption over aggregate output will be reduced as a
consequence. A density value equal to zero means that there is no intermediate consumption
left and firms only use primary factors as inputs in production. Fig. 8 also shows that the
average output multiplier decreases when making the network sparser, although not necessarily monotonously. Overall, the economic indicators change fairly linearly with respect
to network density if links are randomly removed, whereas these relationships are highly
nonlinear if smaller edges are eliminated before larger ones.

27

Germany

Italy

Spain

100

%

75
50
25

(a) Random
0.75
1.00 0.00

0
0.00

0.25

0.50

0.25
Multiplier

Germany

0.50
Density

0.75

Intermediate

1.00 0.00

0.25

0.50

0.75

1.00

0.75

1.00

Output

Italy

Spain

100

%

75
50
25
0
0.00

0.25

0.50

(b) Smallest first
0.75
1.00 0.00

0.25
Multiplier

0.50
Density

0.75

Intermediate

1.00 0.00

0.25

0.50

Output

Figure 8: Key economic measures as a function of network density. (a) The network density is
changed by eliminating links randomly (corresponding to Fig. 4). (b) The network density is changed by
eliminating smaller before larger
P links (corresponding to Fig. 7). Multiplier refers to the (unweighted) average
of the initial economy. Intermediate
multiplier of the economy, ij Lij /N , after rebalancing as percentage
P
P
denotes the share of intermediate consumption in total output, ij Zij / i xi after rebalancing the economy.
Output is total output after rebalancing divided by initial total output.

28

